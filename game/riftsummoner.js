var e,k=k||{};k.gc="undefined"===typeof window?!1:!0;!function(){function a(a){return this.Dj?f(a).Af():a}function b(a,c,d,g){if(a===c)return 0!==a||1/a==1/c;if(null==a||null==c)return a===c;a instanceof f&&(a=a.tc);c instanceof f&&(c=c.tc);var h=n.call(a);if(h!=n.call(c))return!1;switch(h){case "[object String]":return a==String(c);case "[object Number]":return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==
c.ignoreCase}if("object"!=typeof a||"object"!=typeof c)return!1;for(var m=d.length;m--;)if(d[m]==a)return g[m]==c;var m=a.constructor,l=c.constructor;if(m!==l&&!(f.Qb(m)&&m instanceof m&&f.Qb(l)&&l instanceof l))return!1;d.push(a);g.push(c);m=0;l=!0;if("[object Array]"==h){if(m=a.length,l=m==c.length)for(;m--&&(l=b(a[m],c[m],d,g)););}else{for(var t in a)if(f.Ea(a,t)&&(m++,!(l=f.Ea(c,t)&&b(a[t],c[t],d,g))))break;if(l){for(t in c)if(f.Ea(c,t)&&!m--)break;l=!m}}return d.pop(),g.pop(),l}function c(){}
function d(a,b,c){return b&&f.every(a,f.isArray)?w.apply(c,a):(C(a,function(a){f.isArray(a)||f.pi(a)?b?t.apply(c,a):d(a,b,c):c.push(a)}),c)}function g(a,b,c,d){var g={},m=h(null==b?f.fc:b);return C(a,function(b,f){var h=m.call(c,b,f,a);d(g,h,b)}),g}function h(a){return f.Qb(a)?a:function(b){return b[a]}}function f(a){return a instanceof f?a:this instanceof f?(this.tc=a,void 0):new f(a)}var l=this,q=l.lf,s={},r=Array.prototype,v=Object.prototype,t=r.push,m=r.slice,w=r.concat,n=v.toString,ea=v.hasOwnProperty,
p=r.forEach,J=r.map,T=r.reduce,xa=r.reduceRight,U=r.filter,ya=r.every,za=r.some,fa=r.indexOf,Aa=r.lastIndexOf,v=Array.isArray,la=Object.keys,ma=Function.prototype.bind;"undefined"!=typeof exports?("undefined"!=typeof module&&module.Lf&&(exports=module.Lf=f),exports.lf=f):l.lf=f;f.VERSION="1.5.1";var C=f.Da=f.forEach=function(a,b,c){if(null!=a)if(p&&a.forEach===p)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,g=a.length;g>d&&b.call(c,a[d],d,a)!==s;d++);else for(d in a)if(f.Ea(a,d)&&b.call(c,
a[d],d,a)===s)break};f.map=f.lp=function(a,b,c){var d=[];return null==a?d:J&&a.map===J?a.map(b,c):(C(a,function(a,f,g){d.push(b.call(c,a,f,g))}),d)};f.reduce=f.bl=f.am=function(a,b,c,d){var g=2<arguments.length;if(null==a&&(a=[]),T&&a.reduce===T)return d&&(b=f.bind(b,d)),g?a.reduce(b,c):a.reduce(b);if(C(a,function(a,f,h){g?c=b.call(d,c,a,f,h):(c=a,g=!0)}),!g)throw new TypeError("Reduce of empty array with no initial value");return c};f.reduceRight=f.cl=function(a,b,c,d){var g=2<arguments.length;if(null==
a&&(a=[]),xa&&a.reduceRight===xa)return d&&(b=f.bind(b,d)),g?a.reduceRight(b,c):a.reduceRight(b);var h=a.length;if(h!==+h)var m=f.keys(a),h=m.length;if(C(a,function(f,l,t){l=m?m[--h]:--h;g?c=b.call(d,c,a[l],l,t):(c=a[l],g=!0)}),!g)throw new TypeError("Reduce of empty array with no initial value");return c};f.find=f.Bk=function(a,b,c){var d;return Ba(a,function(a,f,g){return b.call(c,a,f,g)?(d=a,!0):void 0}),d};f.filter=f.select=function(a,b,c){var d=[];return null==a?d:U&&a.filter===U?a.filter(b,
c):(C(a,function(a,f,g){b.call(c,a,f,g)&&d.push(a)}),d)};f.en=function(a,b,c){return f.filter(a,function(a,d,f){return!b.call(c,a,d,f)},c)};f.every=f.all=function(a,b,c){b||(b=f.fc);var d=!0;return null==a?d:ya&&a.every===ya?a.every(b,c):(C(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:s}),!!d)};var Ba=f.some=f.Mj=function(a,b,c){b||(b=f.fc);var d=!1;return null==a?d:za&&a.some===za?a.some(b,c):(C(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?s:void 0}),!!d)};f.contains=f.pq=function(a,
b){return null==a?!1:fa&&a.indexOf===fa?-1!=a.indexOf(b):Ba(a,function(a){return a===b})};f.uq=function(a,b){var c=m.call(arguments,2),d=f.Qb(b);return f.map(a,function(a){return(d?b:a[b]).apply(a,c)})};f.Fc=function(a,b){return f.map(a,function(a){return a[b]})};f.Bo=function(a,b){return f.Zf(b)?void 0:f.find(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};f.Mp=function(a,b){return f.Bo(a,b)};f.max=function(a,b,c){if(!b&&f.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,
a);if(!b&&f.Zf(a))return-1/0;var d={Wc:-1/0,value:-1/0};return C(a,function(a,f,g){f=b?b.call(c,a,f,g):a;f>d.Wc&&(d={value:a,Wc:f})}),d.value};f.min=function(a,b,c){if(!b&&f.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&f.Zf(a))return 1/0;var d={Wc:1/0,value:1/0};return C(a,function(a,f,g){f=b?b.call(c,a,f,g):a;f<d.Wc&&(d={value:a,Wc:f})}),d.value};f.xr=function(a){var b,c=0,d=[];return C(a,function(a){b=f.random(c++);d[c-1]=d[b];d[b]=a}),d};f.fj=function(a,b,c){var d=
h(b);return f.Fc(f.map(a,function(a,b,f){return{value:a,index:b,Xc:d.call(c,a,b,f)}}).sort(function(a,b){var c=a.Xc,d=b.Xc;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};f.nq=function(a,b,c){return g(a,b,c,function(a,b,c){(f.Ea(a,b)?a[b]:a[b]=[]).push(c)})};f.pp=function(a,b,c){return g(a,b,c,function(a,b){f.Ea(a,b)||(a[b]=0);a[b]++})};f.Qn=function(a,b){var c;c=null==c?f.fc:h(c);for(var d=c.call(void 0,b),g=0,m=a.length;m>g;){var l=g+m>>>
1;c.call(void 0,a[l])<d?g=l+1:m=l}return g};f.Jr=function(a){return a?f.isArray(a)?m.call(a):a.length===+a.length?f.map(a,f.fc):f.Ao(a):[]};f.size=function(a){return null==a?0:a.length===+a.length?a.length:f.keys(a).length};f.$c=f.head=f.Cr=function(a,b,c){return null==a?void 0:null==b||c?a[0]:m.call(a,0,b)};f.sq=function(a,b,c){return m.call(a,0,a.length-(null==b||c?1:b))};f.Eq=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:m.call(a,Math.max(a.length-b,0))};f.pr=f.Br=f.Bp=function(a,
b,c){return m.call(a,null==b||c?1:b)};f.compact=function(a){return f.filter(a,f.fc)};f.Yk=function(a){return d(a,!0,[])};f.Vr=function(a){return f.Dk(a,m.call(arguments,1))};f.mj=f.unique=function(a,b,c,d){f.Qb(b)&&(d=c,c=b,b=!1);c=c?f.map(a,c,d):a;var g=[],h=[];return C(c,function(c,d){(b?d&&h[h.length-1]===c:f.contains(h,c))||(h.push(c),g.push(a[d]))}),g};f.Or=function(){return f.mj(f.Yk(arguments))};f.tq=function(a){var b=m.call(arguments,1);return f.filter(f.mj(a),function(a){return f.every(b,
function(b){return 0<=f.indexOf(b,a)})})};f.Dk=function(a){var b=w.apply(r,m.call(arguments,1));return f.filter(a,function(a){return!f.contains(b,a)})};f.Yr=function(){for(var a=f.max(f.Fc(arguments,"length").concat(0)),b=Array(a),c=0;a>c;c++)b[c]=f.Fc(arguments,""+c);return b};f.object=function(a,b){if(null==a)return{};for(var c={},d=0,f=a.length;f>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};f.indexOf=function(a,b,c){if(null==a)return-1;var d=0,g=a.length;if(c){if("number"!=typeof c)return d=
f.Qn(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,g+c):c}if(fa&&a.indexOf===fa)return a.indexOf(b,c);for(;g>d;d++)if(a[d]===b)return d;return-1};f.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(Aa&&a.lastIndexOf===Aa)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};f.Si=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),f=0,g=Array(d);d>f;)g[f++]=a,a+=c;return g};f.bind=function(a,
b){var d,g;if(ma&&a.bind===ma)return ma.apply(a,m.call(arguments,1));if(!f.Qb(a))throw new TypeError;return d=m.call(arguments,2),g=function(){if(!(this instanceof g))return a.apply(b,d.concat(m.call(arguments)));c.prototype=a.prototype;var f=new c;c.prototype=null;var h=a.apply(f,d.concat(m.call(arguments)));return Object(h)===h?h:f}};f.ar=function(a){var b=m.call(arguments,1);return function(){return a.apply(this,b.concat(m.call(arguments)))}};f.bp=function(a){var b=m.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");
return C(b,function(b){a[b]=f.bind(a[b],a)}),a};f.ym=function(a,b){var c={};return b||(b=f.fc),function(){var d=b.apply(this,arguments);return f.Ea(c,d)?c[d]:c[d]=a.apply(this,arguments)}};f.$d=function(a,b){var c=m.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};f.defer=function(a){return f.$d.apply(f,[a,1].concat(m.call(arguments,1)))};f.Hr=function(a,b,c){function d(){l=!1===c.mm?0:new Date;m=null;h=a.apply(f,g)}var f,g,h,m=null,l=0;c||(c={});return function(){var t=
new Date;l||!1!==c.mm||(l=t);var U=b-(t-l);return f=this,g=arguments,0>=U?(clearTimeout(m),m=null,l=t,h=a.apply(f,g)):m||!1===c.Lr||(m=setTimeout(d,U)),h}};f.qp=function(a,b,c){var d,f=null;return function(){var g=this,h=arguments,m=c&&!f;return clearTimeout(f),f=setTimeout(function(){f=null;c||(d=a.apply(g,h))},b),m&&(d=a.apply(g,h)),d}};f.Mm=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}};f.Xr=function(a,b){return function(){var c=[a];return t.apply(c,
arguments),b.apply(this,c)}};f.sk=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};f.So=function(a,b){return function(){return 1>--a?b.apply(this,arguments):void 0}};f.keys=la||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)f.Ea(a,c)&&b.push(c);return b};f.Ao=function(a){var b=[],c;for(c in a)f.Ea(a,c)&&b.push(a[c]);return b};f.Yq=function(a){var b=[],c;for(c in a)f.Ea(a,c)&&b.push([c,
a[c]]);return b};f.cm=function(a){var b={},c;for(c in a)f.Ea(a,c)&&(b[a[c]]=c);return b};f.fl=f.Mq=function(a){var b=[],c;for(c in a)f.Qb(a[c])&&b.push(c);return b.sort()};f.extend=function(a){return C(m.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a};f.cr=function(a){var b={},c=w.apply(r,m.call(arguments,1));return C(c,function(c){c in a&&(b[c]=a[c])}),b};f.Rq=function(a){var b={},c=w.apply(r,m.call(arguments,1)),d;for(d in a)f.contains(c,d)||(b[d]=a[d]);return b};f.zk=function(a){return C(m.call(arguments,
1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a};f.Cf=function(a){return f.em(a)?f.isArray(a)?a.slice():f.extend({},a):a};f.Dr=function(a,b){return b(a),a};f.isEqual=function(a,c){return b(a,c,[],[])};f.Zf=function(a){if(null==a)return!0;if(f.isArray(a)||f.Bq(a))return 0===a.length;for(var b in a)if(f.Ea(a,b))return!1;return!0};f.wq=function(a){return!(!a||1!==a.nodeType)};f.isArray=v||function(a){return"[object Array]"==n.call(a)};f.em=function(a){return a===Object(a)};C("Arguments Function String Number Date RegExp".split(" "),
function(a){f["is"+a]=function(b){return n.call(b)=="[object "+a+"]"}});f.pi(arguments)||(f.pi=function(a){return!(!a||!f.Ea(a,"callee"))});"function"!=typeof/./&&(f.Qb=function(a){return"function"==typeof a});f.xq=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};f.yq=function(a){return f.Aq(a)&&a!=+a};f.vq=function(a){return!0===a||!1===a||"[object Boolean]"==n.call(a)};f.zq=function(a){return null===a};f.Cq=function(a){return void 0===a};f.Ea=function(a,b){return ea.call(a,b)};f.Hm=function(){return l.lf=
q,this};f.fc=function(a){return a};f.Gd=function(a,b,c){for(var d=Array(Math.max(0,a)),f=0;a>f;f++)d[f]=b.call(c,f);return d};f.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var V={escape:{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"}};V.unescape=f.cm(V.escape);var Ra={escape:RegExp("["+f.keys(V.escape).join("")+"]","g"),unescape:RegExp("("+f.keys(V.unescape).join("|")+")","g")};f.Da(["escape","unescape"],
function(a){f[a]=function(b){return null==b?"":(""+b).replace(Ra[a],function(b){return V[a][b]})}});f.result=function(a,b){if(null!=a){var c=a[b];return f.Qb(c)?c.call(a):c}};f.Am=function(b){C(f.fl(b),function(c){var d=f[c]=b[c];f.prototype[c]=function(){var b=[this.tc];return t.apply(b,arguments),a.call(this,d.apply(f,b))}})};var Sa=0;f.Pr=function(a){var b=++Sa+"";return a?a+b:b};f.io={evaluate:/<%([\s\S]+?)%>/g,bm:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var na=/(.)^/,Ta={"'":"'","\\":"\\",
"\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Ua=/\\|'|\r|\n|\t|\u2028|\u2029/g;f.Gr=function(a,b,c){function d(a){return g.call(this,a,f)}var g;c=f.zk({},c,f.io);var h=0,m="__p+\x3d'";a.replace(RegExp([(c.escape||na).source,(c.bm||na).source,(c.evaluate||na).source].join("|")+"|$","g"),function(b,c,d,f,g){return m+=a.slice(h,g).replace(Ua,function(a){return"\\"+Ta[a]}),c&&(m+="'+\n((__t\x3d("+c+"))\x3d\x3dnull?'':_.escape(__t))+\n'"),d&&(m+="'+\n((__t\x3d("+d+"))\x3d\x3dnull?'':__t)+\n'"),
f&&(m+="';\n"+f+"\n__p+\x3d'"),h=g+b.length,b});m+="';\n";c.oj||(m="with(obj||{}){\n"+m+"}\n");m="var __t,__p\x3d'',__j\x3dArray.prototype.join,print\x3dfunction(){__p+\x3d__j.call(arguments,'');};\n"+m+"return __p;\n";try{g=new Function(c.oj||"obj","_",m)}catch(l){throw l.source=m,l;}return b?g(b,f):(d.source="function("+(c.oj||"obj")+"){\n"+m+"}",d)};f.Af=function(a){return f(a).Af()};f.Am(f);C("pop push reverse shift sort splice unshift".split(" "),function(b){var c=r[b];f.prototype[b]=function(){var d=
this.tc;return c.apply(d,arguments),"shift"!=b&&"splice"!=b||0!==d.length||delete d[0],a.call(this,d)}});C(["concat","join","slice"],function(b){var c=r[b];f.prototype[b]=function(){return a.call(this,c.apply(this.tc,arguments))}});f.extend(f.prototype,{Af:function(){return this.Dj=!0,this},value:function(){return this.tc}})}.call(this);(function(){function a(a,b){function c(){var d=this,f=Array.prototype.slice.call(arguments),g=f.pop();return a(b,function(a,b){a.apply(d,f.concat([b]))},g)}if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c}function b(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!==typeof console&&(b?console.error&&console.error(b):console[a]&&n(c,function(b){console[a](b)}))}]))}}
function c(a,b,c,d){var f=[];a(b,function(a,b){c(a,function(a,c){f=f.concat(c||[]);b(a)})},function(a){d(a,f)})}function d(a,b,c){c=c||function(){};if(b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};a.Da(t(b),function(a,c){b[a](function(b){var f=Array.prototype.slice.call(arguments,1);1>=f.length&&(f=f[0]);d[a]=f;c(b)})},function(a){c(a,d)})}}function g(a,b,c,d){a(b,function(a,b){c(a,
function(c){c?(d(a),d=function(){}):b()})},function(){d()})}function h(a,b,c,d){var f=[];b=w(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c||f.push(a);b()})},function(){d(w(f.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})}function f(a,b,c,d){var f=[];b=w(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c&&f.push(a);b()})},function(){d(w(f.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})}
function l(a,b,c,d){var f=[];b=w(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c,d){f[a.index]=d;b(c)})},function(a){d(a,f)})}function q(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[p.be].concat(b))}}function s(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[v(a)].concat(c))}}function r(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[p.Da].concat(b))}}
function v(a){return function(b,c,d){d=d||function(){};if(!b.length||0>=a)return d();var f=0,g=0,h=0;(function C(){if(f>=b.length)return d();for(;h<a&&g<b.length;)g+=1,h+=1,c(b[g-1],function(a){a?(d(a),d=function(){}):(f+=1,h-=1,f>=b.length?d():C())})})()}}function t(a){if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}function m(a,b){var c=!0;if(a.reduce)return a.reduce(b,c);n(a,function(a,d,f){c=b(c,a,d,f)});return c}function w(a,b){if(a.map)return a.map(b);
var c=[];n(a,function(a,d,f){c.push(b(a,d,f))});return c}function n(a,b){if(a.forEach)a.forEach(b);else for(var c=0;c<a.length;c+=1)b(a[c],c,a)}function ea(a){var b=!1;return function(){if(b)throw Error("Callback was already called.");b=!0;a.apply(J,arguments)}}var p={},J,T;J=this;null!=J&&(T=J.async);p.Hm=function(){J.async=T;return p};"undefined"!==typeof process&&process.qd?(p.qd=process.qd,p.setImmediate="undefined"!==typeof setImmediate?setImmediate:p.qd):(p.qd="function"===typeof setImmediate?
function(a){setImmediate(a)}:function(a){setTimeout(a,0)},p.setImmediate=p.qd);p.Da=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0;n(a,function(f){b(f,ea(function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length&&c(null))}))})};p.forEach=p.Da;p.be=function(a,b,c){function d(){b(a[f],function(b){b?(c(b),c=function(){}):(f+=1,f>=a.length?c(null):d())})}c=c||function(){};if(!a.length)return c();var f=0;d()};p.Op=p.be;p.Ok=function(a,b,c,d){v(b).apply(null,[a,c,d])};p.Np=p.Ok;p.map=r(l);
p.zi=q(l);p.Jq=function(a,b,c,d){return s(b,l)(a,c,d)};p.reduce=function(a,b,c,d){p.be(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};p.am=p.reduce;p.bl=p.reduce;p.reduceRight=function(a,b,c,d){a=w(a,function(a){return a}).reverse();p.reduce(a,b,c,d)};p.cl=p.reduceRight;p.filter=r(f);p.Wk=q(f);p.select=p.filter;p.rr=p.Wk;p.en=r(h);p.nr=q(h);p.Bk=r(g);p.sp=q(g);p.some=function(a,b,c){p.Da(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){});d()})},function(){c(!1)})};p.Mj=
p.some;p.every=function(a,b,c){p.Da(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){});d()})},function(){c(!0)})};p.all=p.every;p.fj=function(a,b,c){p.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,Xc:d})})},function(a,b){if(a)return c(a);c(null,w(b.sort(function(a,b){var c=a.Xc,d=b.Xc;return c<d?-1:c>d?1:0}),function(a){return a.value}))})};p.$o=function(a,b){function c(){n(h.slice(0),function(a){a()})}function d(a){h.unshift(a)}b=b||function(){};var f=t(a);if(!f.length)return b(null);
var g={},h=[];d(function(){t(g).length===f.length&&(b(null,g),b=function(){})});n(f,function(f){function l(){return m(q,function(a,b){return a&&g.hasOwnProperty(b)})&&!g.hasOwnProperty(f)}function w(a){var d=Array.prototype.slice.call(arguments,1);1>=d.length&&(d=d[0]);if(a){var h={};n(t(g),function(a){h[a]=g[a]});h[f]=d;b(a,h);b=function(){}}else g[f]=d,p.setImmediate(c)}var v=a[f]instanceof Function?[a[f]]:a[f],q=v.slice(0,Math.abs(v.length-1))||[];if(l())v[v.length-1](w,g);else{var r=function(){if(l()){for(var a=
r,b=0;b<h.length;b+=1)if(h[b]===a){h.splice(b,1);break}v[v.length-1](w,g)}};d(r)}})};p.Ur=function(a,b){function c(a){return function(d){if(d)b.apply(null,arguments),b=function(){};else{var f=Array.prototype.slice.call(arguments,1),g=a.next();g?f.push(c(g)):f.push(b);p.setImmediate(function(){a.apply(null,f)})}}}b=b||function(){};if(a.constructor!==Array)return b(Error("First argument to waterfall must be an array of functions"));if(!a.length)return b();c(p.gm(a))()};p.Zq=function(a,b){d({map:p.map,
Da:p.Da},a,b)};p.$q=function(a,b,c){d({map:s(b,l),Da:v(b)},a,c)};p.sr=function(a,b){b=b||function(){};if(a.constructor===Array)p.zi(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},b);else{var c={};p.be(t(a),function(b,d){a[b](function(a){var f=Array.prototype.slice.call(arguments,1);1>=f.length&&(f=f[0]);c[b]=f;d(a)})},function(a){b(a,c)})}};p.gm=function(a){function b(c){function d(){a.length&&a[c].apply(null,arguments);return d.next()}
d.next=function(){return c<a.length-1?b(c+1):null};return d}return b(0)};p.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};p.concat=r(c);p.mp=q(c);p.Co=function(a,b,c){a()?b(function(d){if(d)return c(d);p.Co(a,b,c)}):c()};p.Kk=function(a,b,c){a(function(d){if(d)return c(d);b()?p.Kk(a,b,c):c()})};p.wo=function(a,b,c){a()?c():b(function(d){if(d)return c(d);p.wo(a,b,c)})};p.Jk=function(a,b,c){a(function(d){if(d)return c(d);
b()?c():p.Jk(a,b,c)})};p.an=function(a){var b=2;function c(a,d,f,g){d.constructor!==Array&&(d=[d]);n(d,function(c){c={data:c,Jb:"function"===typeof g?g:null};f?a.Bb.unshift(c):a.Bb.push(c);a.yd&&a.Bb.length===b&&a.yd();p.setImmediate(a.Ke)})}void 0===b&&(b=1);var d=0,f={Bb:[],tk:b,yd:null,empty:null,xc:null,push:function(a,b){c(f,a,!1,b)},unshift:function(a,b){c(f,a,!0,b)},Ke:function(){if(d<f.tk&&f.Bb.length){var b=f.Bb.shift();f.empty&&0===f.Bb.length&&f.empty();d+=1;a(b.data,ea(function(){d-=1;
b.Jb&&b.Jb.apply(b,arguments);f.xc&&0===f.Bb.length+d&&f.xc();f.Ke()}))}},length:function(){return f.Bb.length},nn:function(){return d}};return f};p.fp=function(a,b){var c=!1,d=[],f={Bb:d,br:b,yd:null,empty:null,xc:null,push:function(a,c){a.constructor!==Array&&(a=[a]);n(a,function(a){d.push({data:a,Jb:"function"===typeof c?c:null});f.yd&&d.length===b&&f.yd()});p.setImmediate(f.Ke)},Ke:function la(){if(!c)if(0===d.length)f.xc&&f.xc();else{var g="number"===typeof b?d.splice(0,b):d.splice(0),h=w(g,
function(a){return a.data});f.empty&&f.empty();c=!0;a(h,function(){c=!1;var a=arguments;n(g,function(b){b.Jb&&b.Jb.apply(null,a)});la()})}},length:function(){return d.length},nn:function(){return c}};return f};p.log=b("log");p.dir=b("dir");p.ym=function(a,b){function c(){var g=Array.prototype.slice.call(arguments),h=g.pop(),m=b.apply(null,g);m in d?h.apply(null,d[m]):m in f?f[m].push(h):(f[m]=[h],a.apply(null,g.concat([function(){d[m]=arguments;var a=f[m];delete f[m];for(var b=0,c=a.length;b<c;b++)a[b].apply(null,
arguments)}])))}var d={},f={};b=b||function(a){return a};c.Lq=d;c.so=a;return c};p.Qr=function(a){return function(){return(a.so||a).apply(null,arguments)}};p.Gd=function(a,b,c){for(var d=[],f=0;f<a;f++)d.push(f);return p.map(d,b,c)};p.Ir=function(a,b,c){for(var d=[],f=0;f<a;f++)d.push(f);return p.zi(d,b,c)};p.sk=function(){var a=Array.prototype.reverse.call(arguments);return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();p.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=
arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}};p.Xo=r(a);p.Yo=q(a);p.Pp=function(a,b){function c(d){if(d){if(b)return b(d);throw d;}a(c)}c()};"undefined"!==typeof define&&define.Lj?define([],function(){return p}):"undefined"!==typeof module&&module.Lf?module.Lf=p:J.async=p})();var u={dragon:{name:"dragon",parentOnly:!0,byStep:3,startFrame:1,endFrame:780,targetRadius:100,step:1,animations:{move:{start:178,end:188,delay:0.1,type:0},attack:{start:206,end:230,delay:0.1,type:1},dead:{start:242,end:255,delay:0.1,type:1},idle:{start:178,end:188,delay:0.1,type:0}},behavior:"range"},dragonFire:{name:"dragonFire",formalName:"Fire Dragon",details:"These small dragons are aerial terrors that do massive damage to the ground units below them. However, they have a difficulty targeting other air born units. Fire Dragons inflict additional burn damage to targets and splash damage to surrounding units.",
elementType:"fire",unitType:2,damageMods:{splashDamage:{damage:50,radius:100},burn:{damage:50,duration:1,interval:0.25}},gameProperties:{MaxHP:500,speed:160,damage:250,missile:"ballFire",missileOffset:{x:0,y:10},flightAug:{x:25,y:100},missleTarget:"base",movementType:0,targets:1,actionDelays:{attack:5},effectDelays:{attack:1},targetRadius:100,seekRadius:25},inherit:"dragon"},dragonVoid:{name:"dragonVoid",formalName:"Void Dragon",details:"These small dragons are aerial terrors doing massive damage to ground units below but they have a difficulty targeting other air born units.",
elementType:"void",unitType:1,special:"None",gameProperties:{MaxHP:700,speed:260,movementType:0,missile:"ballVoid",missileOffset:{x:0,y:10},missleTarget:"base",targets:1,damage:300,actionDelays:{attack:1},effectDelays:{attack:1},targetRadius:100,seekRadius:25},inherit:"dragon"},dwarvenKnight:{name:"dwarvenKnight",parentOnly:!0,targetRadius:20,animations:{move:{start:70,end:93,delay:0.02,type:0},attack:{start:100,end:145,delay:0.025,type:1},attack2:{start:140,end:180,delay:0.025,type:1},attack3:{start:180,
end:250,delay:0.025,type:1},idle:{start:1,end:60,delay:0.02,type:0},dead:{start:300,end:370,delay:0.02,type:1}},behavior:"tank"},dwarvenKnightEarth:{name:"dwarvenKnightEarth",formalName:"Dwarven Knight - Earth",details:"Dwarven Knights are known for being very difficult to kill. With armor embued with earth magic these dwarves are particularly hard to kill.",elementType:"earth",unitType:3,gameProperties:{MaxHP:1300,speed:50,movementType:1,targets:1,damage:25,actionDelays:{attack:0.5},effectDelays:{attack:0.05},
targetRadius:40,seekRadius:50},inherit:"dwarvenKnight"},dwarvenKnightFire:{name:"dwarvenKnightFire",formalName:"Dwarven Knight - Fire",details:"Dwarven Knights are known for being very difficult to kill. With armor embued with fire magic, this dwarf is completely immune to fire element attackers.",elementType:"fire",unitType:3,gameProperties:{MaxHP:700,speed:50,movementType:1,targets:1,damage:25,defense:{fire:100},actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},
inherit:"dwarvenKnight"},dwarvenKnightLife:{name:"dwarvenKnightLife",formalName:"Dwarven Knight - Life",details:"Dwarven Knights are known for being very difficult to kill. With armor embued with life magic, this dwarf is immune to poison and life based attackers.",elementType:"life",unitType:3,gameProperties:{MaxHP:700,speed:50,damage:25,movementType:1,targets:1,defense:{life:100},actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"dwarvenKnight"},dwarvenKnightVoid:{name:"dwarvenKnightVoid",
formalName:"Dwarven Knight - Void",details:"Dwarven Knights are known for being very difficult to kill. His armor embued with void magic, this dwarf is immune to void powers and drains the life of his targets.",elementType:"void",unitType:3,damageMods:{vampireDrain:{heal:20,damage:20}},gameProperties:{MaxHP:700,speed:50,damage:35,movementType:1,targets:1,defense:{"void":100},actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"dwarvenKnight"},dwarvenKnightWater:{name:"dwarvenKnightWater",
formalName:"Dwarven Knight - Water",details:"Dwarven Knights are known for being very difficult to kill. With armor embued with water magic, this dwarf regenerates health over time.",elementType:"water",unitType:3,powers:{regeneration:{heal:20,interval:0.5}},gameProperties:{MaxHP:700,speed:50,damage:25,movementType:1,targets:1,actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"dwarvenKnight"},elemental1:{name:"elemental1",byStep:2,startFrame:1,endFrame:550,
parentOnly:!0,targetRadius:20,animations:{move:{start:41,end:65,delay:0.08,type:0},attack:{start:71,end:92,delay:0.08,type:1},attack2:{start:101,end:125,delay:0.08,type:1},idle:{start:1,end:37,delay:0.08,type:0},dead:{start:131,end:152,delay:0.08,type:1}},behavior:"tank"},elemental2:{name:"elemental2",parentOnly:!0,targetRadius:20,animations:{move:{start:91,end:126,delay:0.02,type:0},attack:{start:131,end:190,delay:0.025,type:1},idle:{start:1,end:75,delay:0.02,type:0},dead:{start:271,end:330,delay:0.02,
type:1}},behavior:"range"},elementalEarth:{name:"elementalEarth",formalName:"Stone Elemental",details:"Extraordinarily powerful, but slow moving.",elementType:"earth",unitType:3,special:"None",gameProperties:{MaxHP:2E3,speed:20,damage:100,movementType:1,targets:1,actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"elemental1"},elementalFire:{name:"elementalFire",formalName:"Fire Elemental",details:"Extraordinarily powerful, but slow moving. These elementals inflict additional burn damage.",
elementType:"fire",unitType:3,damageMods:{burn:{damage:20,duration:1,interval:0.25}},gameProperties:{MaxHP:1E3,speed:20,damage:250,movementType:1,targets:1,actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"elemental1"},elementalWater:{name:"elementalWater",formalName:"Water Elemental",details:"Fast elemental creatures that fire at range. Water elementals also have regenerative abilities.",elementType:"water",unitType:3,special:"None",powers:{regeneration:{heal:20,
interval:0.5}},gameProperties:{MaxHP:200,speed:50,damage:75,movementType:1,targets:2,actionDelays:{attack:2},effectDelays:{attack:1},targetRadius:250,seekRadius:50},inherit:"elemental2"},elementalWind:{name:"elementalWind",formalName:"Wind Elemental",details:"Fast elemental creatures that fire at range. Wind elementals have knock back capability.",elementType:"air",unitType:3,damageMods:{knockBack:{distance:30}},gameProperties:{MaxHP:500,speed:70,damage:50,movementType:1,targets:2,actionDelays:{attack:2},
effectDelays:{attack:1},targetRadius:250,seekRadius:50},inherit:"elemental2"},elf:{name:"elf",parentOnly:!0,targetRadius:600,byStep:3,startFrame:1,endFrame:1820,animations:{move:{start:244,end:251,delay:0.08,type:0},attack:{start:454,end:471,delay:0.08,type:1},idle:{start:422,end:432,delay:0.08,type:0},dead:{start:287,end:298,delay:0.08,type:1}},behavior:"range"},elfEarth:{name:"elfEarth",formalName:"Plains Elf",details:"Elves are powerful archers dealing decent damage while they stay safely at range. Plains Elves are heartier and faster then their other elven cousins.",
elementType:"earth",unitType:4,special:"None",gameProperties:{MaxHP:300,movementType:1,targets:2,missile:"arrowNormal",damage:35,speed:85,actionDelays:{attack:0.5},effectDelays:{attack:1},targetRadius:600},inherit:"elf"},elfFire:{name:"elfFire",formalName:"Fire Elf",details:"Elves are powerful archers dealing decent damage while they stay safely at range. These elves have arrows that burn their targets alive.",elementType:"earth",unitType:4,special:"None",damageMods:{burn:{damage:25,duration:1,interval:0.5}},
gameProperties:{MaxHP:100,movementType:1,targets:2,missile:"arrowFire",damage:35,speed:55,actionDelays:{attack:0.5},effectDelays:{attack:1},targetRadius:600},inherit:"elf"},elfLife:{name:"elfLife",formalName:"Forest Elf",details:"Elves are powerful archers dealing decent damage while they stay safely at range. Forest Elves deal poison damage with each arrow.",elementType:"life",unitType:4,damageMods:{poison:{damage:10,duration:5,interval:0.25}},gameProperties:{MaxHP:100,damage:25,movementType:1,targets:2,
missile:"arrowPoison",poisonDamage:10,speed:55,actionDelays:{attack:0.5},effectDelays:{attack:1},targetRadius:600,seekRadius:25},inherit:"elf"},elfVoid:{name:"elfVoid",formalName:"Dark Elf",details:"Elves are powerful archers dealing decent damage while they stay safely at range. Touched with Void magic, Dark Elves have the magic arrows that steal life from targets and give it to all allies on the board.",elementType:"void",unitType:4,damageMods:{vampireDistro:{heal:10,damage:20}},gameProperties:{MaxHP:200,
damage:45,movementType:1,missile:"arrowVoid",targets:2,speed:55,actionDelays:{attack:0.5},effectDelays:{attack:1},targetRadius:600},inherit:"elf"},gargoyle:{name:"gargoyle",parentOnly:!0,byStep:3,startFrame:1,endFrame:787,flip:!0,animations:{move:{start:1,end:8,delay:0.08,type:0},attack:{start:34,end:49,delay:0.08,type:1},dead:{start:58,end:73,delay:0.08,type:1},idle:{start:1,end:8,delay:0.08,type:0}},behavior:"range"},gargoyleFire:{name:"gargoyleFire",formalName:"Fire Demon",details:"An winged creature embued with elemental fire. It possesses magic that it uses to attack other air or ground targets. Fire demons inflict additional burn damage to enemies.",
elementType:"fire",unitType:0,special:"Splash Damage, Burn Damage",damageMods:{burn:{damage:5,duration:1,interval:0.25}},gameProperties:{MaxHP:200,speed:100,movementType:0,targets:2,damage:50,missile:"magicFire",splashDamage:5,actionDelays:{attack:0.05},effectDelays:{attack:0.01},flightAug:{x:25,y:100},targetRadius:50},inherit:"gargoyle"},gargoyleVoid:{name:"gargoyleVoid",formalName:"Void Demon",details:"An winged creature embued with the void. It possesses magic that it uses to destroy other air targets.",
elementType:"void",special:"None",gameProperties:{MaxHP:200,movementType:0,targets:2,speed:100,damage:100,missile:"magicVoid",vsAirDamage:5,actionDelays:{attack:0.01},effectDelays:{attack:0.01},flightAug:{x:25,y:100},targetRadius:50,seekRadius:50},inherit:"gargoyle"},goblin:{name:"goblin",cardIndex:0,portraitXy:{x:181,y:72},formalName:"Goblin Demolition Expert",details:"Goblin demolition experts hurl explosives at enemies. While they don't have an impressive range, they can inflict massive damage on groups of ground enemies.",
elementType:"fire",unitType:3,flip:!0,special:"Splash Damage",damageMods:{splashDamage:{damage:100,radius:100}},deathMods:{explodeFire:{damage:25,radius:50,burn:{damage:50,duration:5,interval:0.5}}},gameProperties:{MaxHP:50,movementType:1,targets:1,missile:"bomb",damage:80,speed:55,actionDelays:{attack:0.5},effectDelays:{attack:0.5},targetRadius:125},animations:{move:{start:80,end:90,delay:0.03,type:0},attack:{start:315,end:353,delay:0.03,type:1},idle:{start:1,end:60,delay:0.05,type:0},dead:{start:450,
end:550,delay:0.01,type:1}},behavior:"range"},goblinKnight:{name:"goblinKnight",parentOnly:!0,targetRadius:20,animations:{move:{start:70,end:93,delay:0.02,type:0},attack:{start:100,end:145,delay:0.025,type:1},attack2:{start:140,end:180,delay:0.025,type:1},attack3:{start:180,end:250,delay:0.025,type:1},idle:{start:1,end:60,delay:0.02,type:0},dead:{start:300,end:370,delay:0.02,type:1}},behavior:"tank"},goblinKnightBile:{name:"goblinKnightBile",formalName:"Goblin Knight - Plains",details:"Goblin Knights are fast and do reasonable damage. Plains goblins are incredibly fast runners.",
elementType:"none",unitType:3,special:"Burn Damage",gameProperties:{MaxHP:200,speed:170,movementType:1,targets:1,damage:25,actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"goblinKnight"},goblinKnightBlood:{name:"goblinKnightBlood",cardIndex:0,portraitXy:{x:186,y:265},formalName:"Goblin Knight - Blood",details:"Goblin Knights are fast and do reasonable damage. These blood goblins are tougher, faster then their cousins.",elementType:"none",unitType:3,special:"Burn Damage",
gameProperties:{MaxHP:500,speed:80,movementType:1,targets:1,damage:35,actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"goblinKnight"},goblinKnightFire:{name:"goblinKnightFire",formalName:"Goblin Knight - Fire",details:"Goblin Knights are fast and do reasonable damage. These fire goblins live near magma in deep caves are resist immune to fire based damage.",elementType:"fire",unitType:3,special:"Resist Fire",gameProperties:{MaxHP:200,speed:80,movementType:1,
targets:1,defense:{fire:100},damage:35,actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"goblinKnight"},goblinKnightNormal:{name:"goblinKnightNormal",formalName:"Goblin Knight",details:"Goblin Knights are fast and do reasonable damage.",elementType:"none",unitType:3,special:"Resist Fire",gameProperties:{MaxHP:250,speed:70,movementType:1,targets:1,damage:25,actionDelays:{attack:0.5},effectDelays:{attack:0.05},targetRadius:40,seekRadius:50},inherit:"goblinKnight"},
knight:{name:"knight",parentOnly:!0,targetRadius:200,startFrame:1,endFrame:2050,flip:!0,byStep:3,animations:{move:{start:4,end:27,delay:0.08,type:0},attack:{start:144,end:174,delay:0.08,type:1},attack2:{start:174,end:206,delay:0.08,type:1},dead:{start:387,end:419,delay:0.08,type:1},idle:{start:461,end:486,delay:0.08,type:0}},behavior:"tank"},knightEarth:{name:"knightEarth",formalName:"Elemental Knight - Earth",details:"Elemental Knights are heavy tank units that are slow, but deal massive amounts of damage. Embued with the elemental power of earth, this unit has almost 2x the health of other elemental knights.",
elementType:"earth",unitType:3,special:"None",gameProperties:{MaxHP:1E3,speed:20,damage:160,movementType:1,targets:1,actionDelays:{attack:1},effectDelays:{attack:0.05},targetRadius:50},inherit:"knight"},knightFire:{name:"knightFire",formalName:"Elemental Knight - Fire",details:"Elemental Knights are heavy tank units that are slow, but deal massive amounts of damage. Embued with the elemental power of fire, this unit deals additional burn damage to its targets.",elementType:"fire",unitType:3,damageMods:{burn:{damage:50,
duration:2,interval:0.25}},gameProperties:{MaxHP:500,speed:20,damage:200,movementType:1,targets:1,actionDelays:{attack:1},effectDelays:{attack:0.05},targetRadius:50},inherit:"knight"},knightVoid:{name:"knightVoid",formalName:"Elemental Knight - Void",details:"Elemental Knights are heavy tank units that are slow, but deal massive amounts of damage. Embued with the elemental power of the void, this unit saps life from nearby enemies, healing itself.",elementType:"void",unitType:3,effect:"vampireRadius",
powers:{vampireRadius:{damage:10,radius:100,interval:0.25}},gameProperties:{MaxHP:500,speed:20,movementType:1,targets:1,damage:160,actionDelays:{attack:1},effectDelays:{attack:0.05},targetRadius:50},inherit:"knight"},knightWater:{name:"knightWater",formalName:"Elemental Knight - Water",details:"Elemental Knights are heavy tank units that are slow, but deal massive amounts of damage. Embued with the elemental power of water, this unit also heals any units nearby.",elementType:"water",unitType:3,effect:"healingRadius",
gameProperties:{MaxHP:500,movementType:1,targets:1,speed:20,damage:160,actionDelays:{attack:0.05},effectDelays:{attack:0.05},targetRadius:50,seekRadius:25,heal:30},powers:{healingRadius:{heal:5,interval:0.25,radius:100}},inherit:"knight"},monsterbase:{name:"monsterbase",parentOnly:!0,startFrame:1,endFrame:48,byStep:1,animations:{move:{start:145,end:167,delay:0.02,type:0},attack:{start:1,end:24,delay:0.02,type:1},attack2:{start:25,end:48,delay:0.02,type:1},idle:{start:121,end:137,delay:0.02,type:0},
damage:{start:49,end:60,delay:0.02,type:1},dead:{start:72,end:120,delay:0.02,type:1}}},ogre:{name:"ogre",formalName:"Ogre",byStep:1,flip:!0,cardIndex:0,portraitXy:{x:241,y:122},details:"Ogres are massive, powerful creatures. Though they are slow movers, you do not want to be at the wrong end of their weapons.",elementType:"none",unitType:3,special:"None",targetRadius:75,startFrame:1,endFrame:204,gameProperties:{movementType:1,targets:1,MaxHP:1500,speed:15,damage:300,actionDelays:{attack:1},effectDelays:{attack:0.9},
targetRadius:60},animations:{move:{start:50,end:72,delay:0.06,type:0},attack:{start:74,end:115,delay:0.04,type:1},attack2:{start:122,end:151,delay:0.04,type:1},idle:{start:1,end:48,delay:0.02,type:0},dead:{start:169,end:203,delay:0.06,type:1}},behavior:"tank"},orc:{name:"orc",flip:!0,formalName:"Orc Warrior",details:"Orcs are fast, fierce attackers. What they lack in heavy armor, they make up for in pure tenacity.",elementType:"none",unitType:3,special:"None",gameProperties:{MaxHP:400,speed:55,movementType:1,
targets:1,damage:50,actionDelays:{attack:0.25},effectDelays:{attack:0.5},targetRadius:60},baseOffset:{x:-20,y:-5},byStep:1,animations:{move:{start:18,end:40,delay:0.04,type:0},attack:{start:42,end:63,delay:0.03,type:1},attack2:{start:66,end:89,delay:0.03,type:1},idle:{start:1,end:17,delay:0.04,type:0},dead:{start:102,end:130,delay:0.04,type:1}},behavior:"tank"},scowerer:{name:"scowerer",formalName:"Void Scavenger",details:"Weak, dog-like creatures that are trained to rush archers and healers. When killed the scowerer will burst and a poison acid will cover anyone nearby.",
elementType:"life",unitType:3,special:"None",deathMods:{explodePoison:{damage:200,radius:100,poison:{damage:25,duration:5,interval:0.25}}},gameProperties:{MaxHP:10,movementType:1,targets:1,speed:200,damage:25,actionDelays:{attack:0.01},effectDelays:{attack:0.01},targetRadius:40},animations:{move:{start:11,end:30,delay:0.03,type:0},attack:{start:31,end:70,delay:0.025,type:1},idle:{start:1,end:1,delay:0.03,type:0},dead:{start:71,end:95,delay:0.03,type:1}},behavior:"flanker"},shellback:{name:"shellback",
formalName:"Shellback Raider",details:"Heavily armored and fast, shellbacks are mindless attack animals trained to lock onto and kill weaker archers and healers.",elementType:"none",unitType:3,special:"None",gameProperties:{MaxHP:400,movementType:1,targets:1,speed:200,damage:25,actionDelays:{attack:0.01},effectDelays:{attack:0.01},targetRadius:40},animations:{move:{start:72,end:88,delay:0.02,type:0},attack:{start:198,end:249,delay:0.025,type:1},idle:{start:91,end:151,delay:0.02,type:0},dead:{start:283,
end:320,delay:0.02,type:1}},behavior:"flanker"},snakeThing:{name:"snakeThing",formalName:"Serpent Guardian",details:"Heavily armored and fast, serpent guardians were once summoned to the defense of powerful mages. When summoned, the guardian will attach itself to a range or support unit and guard it until death.",elementType:"none",unitType:3,special:"None",gameProperties:{MaxHP:150,speed:140,movementType:1,targets:1,damage:45,actionDelays:{attack:0.2},effectDelays:{attack:0.5},targetRadius:40,seekRadius:150},
animations:{move:{start:53,end:84,delay:0.02,type:0},attack:{start:90,end:150,delay:0.025,type:1},idle:{start:10,end:45,delay:0.02,type:0},dead:{start:275,end:315,delay:0.02,type:1}},behavior:"defender"},spider:{name:"spider",formalName:"Arachnon Guardian",details:"These guardians will choose and defend a target to death dealing heavy damage from their bladed legs and injecting enemies with poison. They do not however, have much armor and are easily killed.",elementType:"life",unitType:3,flip:!0,
special:"Poison",damageMods:{poison:{damage:50,duration:5,interval:0.5}},gameProperties:{MaxHP:500,speed:200,movementType:1,targets:1,damage:55,actionDelays:{attack:0.2},effectDelays:{attack:0.5},targetRadius:40,seekRadius:300},animations:{move:{start:164,end:189,delay:0.02,type:0},attack:{start:192,end:221,delay:0.025,type:1},idle:{start:1,end:32,delay:0.02,type:0},dead:{start:332,end:400,delay:0.02,type:1}},behavior:"defender"},troll:{name:"troll",formalName:"Goblin Cleric",details:"These small trolls are expert in healing magic. They will stay back, supporting your warriors and healing them in battle.",
elementType:"none",unitType:3,special:"Healing",gameProperties:{MaxHP:100,speed:100,movementType:1,targets:2,damage:10,heal:70,actionDelays:{attack:0.5,heal:0.4},effectDelays:{attack:0.05,heal:0.05},targetRadius:200},baseOffset:{x:0,y:10},byStep:1,animations:{move:{start:25,end:49,delay:0.025,type:0},attack:{start:50,end:71,delay:0.02,type:1},idle:{start:1,end:24,delay:0.02,type:0},dead:{start:109,end:145,delay:0.06,type:1}},behavior:"healer"},wizard:{name:"wizard",formalName:"Goblin Wizard",details:"These goblins are masters of destructive magic and can do serious damage at an impressive range.",
elementType:"none",unitType:4,special:"None",gameProperties:{MaxHP:100,movementType:1,targets:2,speed:50,damage:80,missile:"magicNormal",actionDelays:{attack:0.05},effectDelays:{attack:0.05},targetRadius:300},baseOffset:{x:0,y:10},animations:{move:{start:26,end:48,delay:0.05,type:0},attack:{start:49,end:72,delay:0.05,type:1},attack2:{start:73,end:97,delay:0.05,type:1},idle:{start:1,end:24,delay:0.05,type:0},dead:{start:110,end:155,delay:0.06,type:1}},behavior:"range"}};var x={greenbullet:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"greenbullet.1.png",effect:"hit",frames:27,delay:0.02,first:9,speed:300,height:150},arrowFire:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"arrowFire.1.png",hasDirection:!0,rotation:"arrow",initialAngle:-45,path:"arrow",speed:350,height:200,frames:6,delay:0.02},arrowPoison:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"arrowPoison.1.png",hasDirection:!0,rotation:"arrow",initialAngle:-45,path:"arrow",
speed:350,height:200,frames:6,delay:0.02},arrowVoid:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"arrowVoid.1.png",hasDirection:!0,rotation:"arrow",initialAngle:-45,path:"arrow",speed:350,height:200,frames:6,delay:0.02},arrowNormal:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"arrowNormal.png",hasDirection:!0,initialAngle:-45,path:"arrow",rotation:"arrow",speed:350,height:200,simple:!0},bomb:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"bomb.1.png",frames:8,
delay:0.01,path:"jump",effect:"explo",speed:100},magicFire:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"magicFire.1.png",frames:6,delay:0.03,path:"bullet",speed:800,hasDirection:!0,effect:"hit"},magicVoid:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"magicVoid.1.png",frames:6,delay:0.03,speed:800,hasDirection:!0,path:"bullet",effect:"hit"},magicNormal:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"magicNormal.1.png",frames:6,delay:0.03,speed:800,hasDirection:!0,
path:"bullet",effect:"hit"},ballFire:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"ballFire.1.png",frames:7,delay:0.01,effect:"explo",speed:300},ballVoid:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"ballVoid.1.png",frames:6,delay:0.01,speed:300},cannonball:{png:"art/missiles{v}.png",plist:"art/missiles.plist",start:"cannonball.1.png",frames:6,delay:0.01,effect:"explo",speed:100,path:"jump"}};var y={greenBang:{png:"art/greenBang.png",plist:"art/greenBang.plist",start:"greenBang.1.png",placement:"center",frames:28,delay:0.02,times:1},explo:{png:"art/effects{v}.png",plist:"art/effects{v}.plist",start:"explo.1.png",placement:"bottom",zorder:"behind",frames:23,delay:0.03,offset:{x:0,y:0},times:1,flash:!0,shake:!0},healingRadius:{png:"art/effects{v}.png",plist:"art/effects{v}.plist",start:"healingRadius.1.png",frames:39,delay:0.05,zorder:"behind",placement:"center",offset:{x:0,y:0}},heal:{png:"art/effects{v}.png",
plist:"art/effects{v}.plist",start:"heal.1.png",frames:50,delay:0.05,placement:"center",scaleToTarget:2,zorder:"behind"},teleport:{png:"art/teleport.png",plist:"art/teleport.plist",start:"teleport.1.png",frames:14,delay:0.02,placement:"base2base",times:1},movement:{png:"art/touch.png",plist:"art/touch.plist",start:"movement.1.png",frames:8,delay:0.05,placement:"bottom",times:2},characterSelect:{png:"art/touch.png",plist:"art/touch.plist",start:"characterSelect.1.png",frames:7,delay:0.05,placement:"bottom",
zorder:"behind"},enemySelection:{png:"art/touch.png",plist:"art/touch.plist",start:"enemySelection.1.png",frames:7,delay:0.05,placement:"base2base",zorder:"behind",times:2},allySelection:{png:"art/touch.png",plist:"art/touch.plist",start:"allySelection.1.png",frames:7,delay:0.05,placement:"base2base",zorder:"behind",times:2},burning:{png:"art/effects{v}.png",plist:"art/effects{v}.plist",start:"burning.1.png",frames:33,delay:0.02,placement:"bottom",zorder:"behind",offset:{x:0,y:65},times:6},poisoned2:{png:"art/effects{v}.png",
plist:"art/effects{v}.plist",start:"poisoned2.1.png",frames:24,delay:0.05,placement:"center",zorder:"behind",scaleToTarget:2,offset:{x:0,y:25}},lifeDrain:{png:"art/effects{v}.png",plist:"art/effects{v}.plist",start:"lifeDrain.1.png",frames:38,delay:0.05,placement:"center",zorder:"front",scaleToTarget:2,offset:{x:0,y:25}},vampireRadius:{png:"art/effects{v}.png",plist:"art/effects{v}.plist",start:"vampireRadius.1.png",frames:30,delay:0.05,placement:"bottom",zorder:"behind",scaleToTarget:2,offset:{x:0,
y:25}},voidFire:{png:"art/effects{v}.png",plist:"art/effects{v}.plist",start:"voidFire.1.png",frames:32,delay:0.05,placement:"center",zorder:"behind",scaleToTarget:2,offset:{x:0,y:25}},hit:{png:"art/effects{v}.png",plist:"art/effects{v}.plist",start:"hit.1.png",frames:20,delay:0.05,placement:"center",zorder:"front",times:1,offset:{x:0,y:25}}};var z={fireBall:{png:"art/powerTiles{v}.png",plist:"art/powerTiles{v}.plist",icon:"Fire4.png",cooldown:2E3,type:"direct",offense:"fireBall"},poisonCloud:{png:"art/powerTiles{v}.png",plist:"art/powerTiles{v}.plist",icon:"Poison4.png",cooldown:2E3,type:"direct",offense:"poisonCloud"},lightningBolt:{png:"art/powerTiles{v}.png",plist:"art/powerTiles{v}.plist",icon:"Holy1.png",cooldown:2E3,type:"direct",offense:"lightningBolt"},healing:{png:"art/powerTiles{v}.png",plist:"art/powerTiles{v}.plist",icon:"Holy5.png",
cooldown:2E3,type:"global",offense:"healAll"},leech:{png:"art/powerTiles.png",plist:"art/powerTiles.plist",icon:"Shadow4.png",cooldown:2E3,type:"global",offense:"leechAll"},iceStorm:{png:"art/powerTiles{v}.png",plist:"art/powerTiles{v}.plist",icon:"Frost5.png",cooldown:2E3,type:"global",offense:"iceStorm"}},ba={fireBall:function(){},poisonCloud:function(a){var b=aa(A.v.f.ba.a[0].T,150,a);a=k.td("explo",a,1,A.v.f);var c=a.I(),d=a.L();c.y+=d.height;a.l(c);a=new cc.ff;a.ng=0;a.vf=0;a.Rf=255;B();for(a=
0;a<b.length;a++)k.bd("poison",void 0,void 0,b[a],{damage:50,duration:5,interval:0.5},"life")},lightningBolt:function(){},healAll:function(){},leech:function(){},iceStorm:function(){}};var D={healingRadius:["heal"],vampireRadius:["lifeDrain","heal"],regeneration:["heal"],heal:["heal"],splashDamage:["explo"],vampireDistro:["lifeDrain","heal"],vampireDrain:["lifeDrain","heal"],knockBack:["hit"],burn:["burning"],poison:["poisoned2"],explodePoison:["explo"],poisonCloud:["explo","poisoned2"],explodeFire:["explo"]},F={healingRadius:function(a){a=u[a].wb.healingRadius;for(var b=ca(this,a.Le*k.va),c=0;c<b.length;c++)E.Na(this.c,b[c],a.Na)&&k.U("heal",b[c],this.c.f)},vampireRadius:function(a){a=
u[a].wb.vampireRadius;for(var b=da(this,this.lj.bind(this,a.Le*k.va),this.c.qb()),c=0,d=0;d<b.length;d++)E.Gb(b[d],this.c,a.Sa)&&(k.U("lifeDrain",b[d],this.c.f,!0),c+=a.Sa);0!=c&&E.Na(this.c,this.c,c)&&k.U("heal",this.c,this.c.f)},regeneration:function(a){E.Na(this.c,this.c,u[a].wb.regeneration.Na)&&k.U("heal",this.c,this.c.f)},splashDamage:function(a){a=u[a].cc.splashDamage;k.U("explo",this.g,this.c.f);for(var b=aa(this,a.Le*k.va,this.g.u()),c=0;c<b.length;c++)E.Gb(b[c],this.c,a.Sa)},explodeFire:function(a){var b=
u[a].Yd.explodeFire,c=aa(this,b.Le*k.va,this.c.u());k.U("explo",this.g,this.c.f);for(var d=0;d<c.length;d++)E.Gb(c[d],this.c,b.Sa)&&k.bd("burn",a,this.c,c[d],b.ep)},explodePoison:function(a){var b=u[a].Yd.explodePoison;k.U("explo",this.g,this.c.f)&&B(cc.green());for(var c=aa(this,b.Le*k.va,this.g.u()),d=0;d<c.length;d++)E.Gb(c[d],this.c,b.Sa)&&k.bd("poison",a,this.c,c[d],b.fr)},vampireDistro:function(a){a=u[a].cc.vampireDistro;var b=this.c.Pb();E.Gb(this.g,this.c,a.Sa)&&k.U("lifeDrain",this.g,this.c.f,
!0);for(var c=0;c<b.length;c++)b[c]!=this.c&&E.Na(this.c,b[c],a.Na)&&k.U("heal",b[c],this.c.f)},vampireDrain:function(a){a=u[a].cc.vampireDrain;E.Gb(this.g,this.c,a.Sa)&&k.U("lifeDrain",this.g,this.c.f,!0);E.Na(this.c,this.c,a.Na)&&k.U("heal",this.c,this.c.f)},knockBack:function(a){var b=u[a].cc.knockBack.qa;this.c.Fa()&&(b*=-1);a=this.g.u();a.x+=b;b=cc.d(this.c.f.B.width/2,this.c.f.B.height/2);k.Yf(a,b)&&this.g.Pe(a);k.U("greenBang",this.g,this.c.f)},burn:function(a){k.bd("burn",a,this.c,this.g)},
"burn-apply":function(a){B(cc.Vq());k.Lh(a,"burning","burnEffect",this)},"burn-remove":function(){var a=new cc.ff;a.ng=255;a.vf=255;a.Rf=255;B();k.Mh("burnEffect","burning",this)},poison:function(a){k.bd("poison",a,this.c,this.g)},"poison-apply":function(a){B(cc.green());k.Lh(a,"poisoned2","poisonEffect",this)},"poison-remove":function(){var a=new cc.ff;a.ng=255;a.vf=255;a.Rf=255;B();k.Mh("poisonEffect","poison",this)}};var k=k||{},ga={general:0,touch:0,touchcore:0,touchid:0,touchout:0,mouse:0,states:0,sprite:0,healthbar:0,move:0,updatetime:0,memory:0,tests:0,requestManager:0,gameplay:0,mainLayer:0,resource:0,camera:0,console:0,zerverpipe:0,resource:0,ui:0,scroller:0,utilEffects:0,rangeBehavior:0,defenderBehavior:0,designerout:1};
k.log=function(a,b){for(var c=0;c<a.length;c++)if(1!=ga[a[c]])return;"string"==typeof b||b instanceof String?cc.log(JSON.stringify(a)+": "+b):cc.log(JSON.stringify(a)+": "+JSON.stringify(b,null,"\t"))};k.Cf=function(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor(),c;for(c in a)b[c]=k.Cf(a[c]);return b};k=k||{};k.Wj="{v}";k.G={};k.G.ke=cc.size(480,320);k.G.ke.scale=0.234375;k.G.ke.Vd=0.1171875;k.G.ke.Qc=-20;k.G.ke.Pc=0;k.G.me=cc.size(1136,640);k.G.me.scale=0.554688;k.G.me.Vd=0.277344;k.G.me.Qc=-110;k.G.me.Pc=0;k.G.le=cc.size(960,640);k.G.le.scale=0.46875;k.G.le.Vd=0.234375;k.G.le.Qc=-50;k.G.le.Pc=0;k.G.je=cc.size(2048,1536);k.G.je.scale=1;k.G.je.Vd=0.5;k.G.je.Qc=0;k.G.je.Pc=0;k.vn=function(){var a=cc.size(2048,1154);k.xh=a};
k.hh=function(){if(k.gc){var a=Math.ceil(window.devicePixelRatio);k.sn=window.orientation?cc.size(screen.height*a,screen.width*a):cc.size(screen.width*a,screen.height*a);a=window.document.getElementById("gameCanvas");k.Fb=cc.size(a.width,a.height)}else k.Fb=cc.ua.m().xl(),k.sn=k.Fb;var a=k.Fb,b="",c=0,d,g,h;for(h in k.G)k.G[h].width<=a.width&&k.G[h].width>c&&(c=k.G[h].width,b=h,d=k.G[h].scale,g=k.G[h].Vd);k.log(["resource"],"selected: "+b+" for assets dir.");k.Vj=b;k.o=d;k.va=g;k.Hb=k.G[b]};
k.gc||k.hh();k.hh();k.vn();var ha=G("art/arena{v}.png");G("art/landing{v}.png");var ia=G("art/landing{v}.plist");G("art/loading{v}.png");var ja=G("art/loading{v}.plist"),H=[G("art/cards{v}.png")],I=[G("art/cards{v}.plist")],K=G("art/uiElements{v}.png"),L=G("art/uiElements{v}.plist"),ka=G("art/shadowSheet.plist"),oa=G("art/shadowSheet.png"),M=G("art/powerTiles{v}.png"),N=G("art/powerTiles{v}.plist"),O={},P={};
if(k.designMode){H=[G("art/cards-ipadhd.png")];I=[G("art/cards-ipadhd.plist")];K=G("art/uiElements-ipadhd.png");L=G("art/uiElements-ipadhd.plist");G("art/landing-ipadhd.png");ia=G("art/landing-ipadhd.plist");G("art/loading-ipadhd.png");var ja=G("art/loading-ipadhd.plist"),pa="art/multiplayerScreen.png"}for(var Q in u)!u[Q].Rm&&u[Q].name&&(O[Q]=G("art/"+Q+"Sheet{v}.png"),P[Q]=G("art/"+Q+"Sheet{v}.plist"));for(Q in x){var R=G(x[Q].Ja);O[Q]=R;x[Q].Ja=R;if(x[Q].fa){var qa=G(x[Q].fa);P[Q]=qa;x[Q].fa=qa}}
for(Q in y)if(R=G(y[Q].Ja),O[Q]=R,y[Q].Ja=R,y[Q].fa){var S=G(y[Q].fa);P[Q]=S;y[Q].fa=S}for(Q in z)R=G(z[Q].Ja),O[Q]=R,z[Q].Ja=R,z[Q].fa&&(S=G(z[Q].fa),P[Q]=S,z[Q].fa=S);var ra=[{src:O.teleport},{src:P.teleport},{src:O.characterSelect},{src:P.characterSelect},{src:N},{src:M},{src:ka},{src:oa}],sa=[{src:L},{src:K}];function G(a){if(a){var b="-"+k.Vj;"-iphone"==b&&(b="");return a.replace(k.Wj,b)}};md5=function(a){function b(a,b,c,d,f,g){b=q(q(b,a),q(d,g));return q(b<<f|b>>>32-f,c)}function c(a,c,d,f,g,h,l){return b(c&d|~c&f,a,c,g,h,l)}function d(a,c,d,f,g,h,l){return b(c&f|d&~f,a,c,g,h,l)}function g(a,c,d,f,g,h,l){return b(d^(c|~f),a,c,g,h,l)}function h(a,f){var h=a[0],m=a[1],l=a[2],n=a[3],h=c(h,m,l,n,f[0],7,-680876936),n=c(n,h,m,l,f[1],12,-389564586),l=c(l,n,h,m,f[2],17,606105819),m=c(m,l,n,h,f[3],22,-1044525330),h=c(h,m,l,n,f[4],7,-176418897),n=c(n,h,m,l,f[5],12,1200080426),l=c(l,n,h,m,f[6],
17,-1473231341),m=c(m,l,n,h,f[7],22,-45705983),h=c(h,m,l,n,f[8],7,1770035416),n=c(n,h,m,l,f[9],12,-1958414417),l=c(l,n,h,m,f[10],17,-42063),m=c(m,l,n,h,f[11],22,-1990404162),h=c(h,m,l,n,f[12],7,1804603682),n=c(n,h,m,l,f[13],12,-40341101),l=c(l,n,h,m,f[14],17,-1502002290),m=c(m,l,n,h,f[15],22,1236535329),h=d(h,m,l,n,f[1],5,-165796510),n=d(n,h,m,l,f[6],9,-1069501632),l=d(l,n,h,m,f[11],14,643717713),m=d(m,l,n,h,f[0],20,-373897302),h=d(h,m,l,n,f[5],5,-701558691),n=d(n,h,m,l,f[10],9,38016083),l=d(l,n,
h,m,f[15],14,-660478335),m=d(m,l,n,h,f[4],20,-405537848),h=d(h,m,l,n,f[9],5,568446438),n=d(n,h,m,l,f[14],9,-1019803690),l=d(l,n,h,m,f[3],14,-187363961),m=d(m,l,n,h,f[8],20,1163531501),h=d(h,m,l,n,f[13],5,-1444681467),n=d(n,h,m,l,f[2],9,-51403784),l=d(l,n,h,m,f[7],14,1735328473),m=d(m,l,n,h,f[12],20,-1926607734),h=b(m^l^n,h,m,f[5],4,-378558),n=b(h^m^l,n,h,f[8],11,-2022574463),l=b(n^h^m,l,n,f[11],16,1839030562),m=b(l^n^h,m,l,f[14],23,-35309556),h=b(m^l^n,h,m,f[1],4,-1530992060),n=b(h^m^l,n,h,f[4],11,
1272893353),l=b(n^h^m,l,n,f[7],16,-155497632),m=b(l^n^h,m,l,f[10],23,-1094730640),h=b(m^l^n,h,m,f[13],4,681279174),n=b(h^m^l,n,h,f[0],11,-358537222),l=b(n^h^m,l,n,f[3],16,-722521979),m=b(l^n^h,m,l,f[6],23,76029189),h=b(m^l^n,h,m,f[9],4,-640364487),n=b(h^m^l,n,h,f[12],11,-421815835),l=b(n^h^m,l,n,f[15],16,530742520),m=b(l^n^h,m,l,f[2],23,-995338651),h=g(h,m,l,n,f[0],6,-198630844),n=g(n,h,m,l,f[7],10,1126891415),l=g(l,n,h,m,f[14],15,-1416354905),m=g(m,l,n,h,f[5],21,-57434055),h=g(h,m,l,n,f[12],6,1700485571),
n=g(n,h,m,l,f[3],10,-1894986606),l=g(l,n,h,m,f[10],15,-1051523),m=g(m,l,n,h,f[1],21,-2054922799),h=g(h,m,l,n,f[8],6,1873313359),n=g(n,h,m,l,f[15],10,-30611744),l=g(l,n,h,m,f[6],15,-1560198380),m=g(m,l,n,h,f[13],21,1309151649),h=g(h,m,l,n,f[4],6,-145523070),n=g(n,h,m,l,f[11],10,-1120210379),l=g(l,n,h,m,f[2],15,718787259),m=g(m,l,n,h,f[9],21,-343485551);a[0]=q(h,a[0]);a[1]=q(m,a[1]);a[2]=q(l,a[2]);a[3]=q(n,a[3])}function f(a){txt="";var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d;for(d=
64;d<=b;d+=64){for(var f=a.substring(d-64,d),g=[],l=void 0,l=0;64>l;l+=4)g[l>>2]=f.charCodeAt(l)+(f.charCodeAt(l+1)<<8)+(f.charCodeAt(l+2)<<16)+(f.charCodeAt(l+3)<<24);h(c,g)}a=a.substring(d-64);f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];g=a.length;for(d=0;d<g;d++)f[d>>2]|=a.charCodeAt(d)<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(55<d)for(h(c,f),d=16;d--;)f[d]=0;f[14]=8*b;h(c,f);return c}function l(a){for(var b=a.length,c=0;c<b;c++){for(var d=a[c],f="",g=0;4>g;g++)f+=s[d>>8*g+4&15]+s[d>>8*g&15];a[c]=f}return a.join("")}
function q(a,b){return a+b&4294967295}var s="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=l(f("hello"))&&(q=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535});return l(f(a))};var A=A||{};A.e={};A.Qa={};A.Ed=18;A.eh="x1xauthTokenx1x";A.di="x1xhaveseenx1x";A.nj="x1xusernamex1x";A.vh="x1xcredsx1x";makeGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};makeSig=function(a){var b=makeGuid();a=md5(b+a.Ki);return{data:b,hash:a}};A.e.Qh=function(){return k.dd(A.vh)};A.e.gl=function(){var a={};a.id=makeGuid();a.Ki=makeGuid();k.Qe(A.vh,a);return a};
A.e.getBlob=function(a){var b=A.e.Mb();A.j.getBlob(b.Ub,function(b,d){if(b)throw b;void 0!=d?(A.F=d,a(!0)):a(!1)})};A.e.lc=function(a){var b=A.e.Mb();A.F.version++;console.log("save me:"+JSON.stringify(A.F));A.j.lc(b.Ub,A.F,function(b,d){if(b)throw b;a&&a(d)})};A.e.aq=function(){return"4x4x4a"};A.e.X=function(){var a={};_.Da(A.F.Cc,function(b){a[b.id]=b});for(var b=A.F.Wa,c=[],d=0;d<b.length;d++)void 0!=b[d]&&a[b[d]]&&(c[d]=a[b[d]]);return c};
A.e.Gf=function(a){var b=A.e.gl();A.j.Gf(b.id,b.Ki,function(b,d){if(b)throw b;A.F=d.blob;A.e.$i(d.Ub);A.e.xn();a()})};A.e.Vf=function(a){var b=A.e.Qh(),c=makeSig(b);A.j.Vf(b.id,c.data,c.hash,function(b,c){if(b)throw b;if(!c.blob)throw"getNewAuthTokenAndBlob failed to provide blob";A.F=c.blob;A.e.$i(c.Ub);a()})};A.e.$i=function(a){k.Qe(A.eh,a)};A.e.Mb=function(){return k.dd(A.eh)};A.e.Hl=function(){var a=A.e.Mb();return!a||0>a.Ip-Date.now()?!1:!0};A.e.lq=function(){return k.dd(A.nj)};
A.e.wr=function(a){return k.Qe(A.nj,a)};A.e.Gl=function(){return void 0!=k.dd(A.di)};A.e.xn=function(){k.Qe(A.di,{haveSeenMe:!0})};A.e.cq=function(){return 0};A.e.rl=function(){return["poisonCloud","healing"]};A.e.Nl=function(){var a=A.Qa.vg;A.e.nc();if(A.F.Cc[a])return A.F.Cc[a].id};A.e.Sh=function(){A.e.nc();A.F.Wa||(A.F.Wa=[]);return A.F.Wa};A.e.ol=function(a){A.e.nc();return A.F.Wa?A.F.Wa.indexOf(a):-1};A.e.rk=function(a){A.F.Wa[a]=void 0};A.e.zn=function(a,b){A.F.ij||(A.F.ij={});A.F.ij[a]=b};
A.e.Tm=function(a,b){A.e.nc();var c={};_.Da(A.F.Cc,function(a){c[a.id]=a});A.F.Wa||(A.F.Wa=[]);var d=A.F.Wa.indexOf(a);-1!=d&&(A.F.Wa[d]=void 0);if(c[a])A.F.Wa[b]=a;else throw"Id: "+a+" not valid for player";};A.e.nc=function(){if(!A.F)throw"Blob not initialized, call getBlob first.";};A.e.Rh=function(a){A.e.nc();var b=_.find(A.F.Cc,function(b){return b.id==a});if(!b)throw"Could not locate a character with id:"+a;return b};A.e.ll=function(){A.e.nc();return A.F.Cc};
A.e.ml=function(){A.e.nc();return _.Fc(A.F.Cc,"name")};A=A||{};A.fb={};A.fb.cd=function(a){var b=A.e.Mb();A.j.cd(b.Ub,function(b,d){A.Ci=void 0!=d?d:void 0;a()})};A.fb.X=function(a,b){var c=A.e.Mb();A.j.X(c.Ub,a,b)};A.fb.Mf=function(a){var b=A.e.Mb();A.j.Mf(b.Ub,function(b,d){void 0!=d?(A.Ae=d,a(!0)):a(!1)})};A.fb.Vb=function(a,b,c){var d=A.e.Mb();A.j.Vb(d.Ub,a,b,c)};A.fb.Kb=function(a,b){var c=A.e.Mb();A.j.Kb(c.Ub,a,data,b)};A=A||{};A.pe={};var ta=[{name:"orc"},{name:"orc"},{name:"elfFire"},{name:"elfFire"},{name:"elfFire"},{name:"elfFire"}];A.pe.vl=function(){return ta};A.pe.bq=function(){return"4x4x4b"};A.pe.rl=function(){return["poisonCloud","healing"]};k=k||{};k.font={};k.font.vi=cc.size(400,80);k.font.Kj=0;k.font.fontSize=20;k.font.Pf="gow";function ua(a,b,c){var d=a.I();d.x+=b;d.y+=c;a.l(d)}cc.Xb.prototype.An=cc.Xb.prototype.lb;cc.Xb.prototype.lb=function(a){this.An(a);this.Ep(cc.Rd(),8*k.o)};function B(){k.log(["console"],"setColor called on the web - don't do it man.")}k.gc&&(k.Kf=function(a){k.log(a,console.trace())});
k.gc||(cc.H.prototype.yg=function(a,b){this.Jc(a);this.Bd(b)},cc.H.prototype.Fm=cc.H.prototype.ab,cc.H.prototype.ab=function(){var a=this.Fm();a.origin=cc.d(a.x,a.y);return a},k.Kf=function(a){k.log(a,Error().stack)},cc.H.prototype.jb=cc.H.prototype.ur);k.nh=0.85;k.Yi=function(a){a.yg(a.Wh()*k.nh,a.Xh()*k.nh)};k.eg=function(a){if(a){a=u[a];var b={};b.da=a.ca.Yb;b.Sa=k.zo(a.ca.Sa,a.ca.qf.Zo);b.Uj=0;b.speed=a.ca.speed;b.Zm=10;b.Si=a.ca.Hg}else b={da:0,Sa:0,Uj:0,speed:0,Zm:0,Si:0};return b};k.eq=function(){return 10};
k.zo=function(a,b){b||(b=1);return 1/b*a};k.bo=function(a,b){var c=cc.A.m().za(b);if(!c)throw"Frame: "+b+" not in cache.";a.Sb(c)};k.ao=function(a,b){a.Sb(b)};k.Rk=function(a){if("void"==a)return"elements_0000_void.png";if("water"==a)return"elements_0001_water.png";if("fire"==a)return"elements_0002_fire.png";if("life"==a)return"elements_0003_life.png";if("earth"==a)return"elements_0004_earth.png";if("air"==a)return"elements_0005_air.png";if("none"!=a)throw"Illegal element type: "+a;};
k.Oq=function(a,b,c){a=cc.Za.create(b,a);return k.Ro(a,c)};k.dk=function(a,b){a&&b?(a.x<b.x&&(a.x=b.x),a.y<b.y&&(a.y=b.y),a.x>b.width&&(a.x=b.width),a.y>b.height&&(a.y=b.height)):(console.log("Point or rect not passed to cap?"),console.log("point:"),console.log(a),console.log("rect:"),console.log(a),k.Kf(["console"]))};k.ve=function(a){var b=new cc.H;b.jd(a);b.O();return b};k.Iq=function(a){cc.A.m().Ij();var b=new cc.H;b.Yl(a);b.O();return b};k.parsed={};
k.Z=function(a,b,c){var d=new cc.H;k.parsed[a]||(cc.A.m().pa(a),cc.jf.create(b),k.parsed[a]=!0);a=cc.A.m().za(c);if(!a)throw"Frame: "+c+" not in cache.";d.mi(a);d.O();return d};k.M=function(a,b){a.M||(a.M=cc.Tg.create(cc.jh(15,15,15,255)),a.getParent().k(a.M));var c=a.I(),d=a.ab().size;c.x-=d.width/2;c.y-=d.height/2;a.M.l(c);a.M.Ic(d);a.M.wg(0);a.getParent().$(a.M,0);void 0==b&&(b=k.Zd);k.Ta(a.M,b)};k.vo=function(a){k.ya(a.M)};
k.Ta=function(a,b,c,d){c||(c=k.C);b||(b=k.Zd);a||(a=this);b=cc.gf.create(c,b);d?(d=cc.Xa.create(d),d=cc.Aa.create(b,d),a.Q(d)):a.Q(b)};k.$n=function(a,b){function c(){b.wg(0);this.k(b);k.Ta(b,255,k.C/4)}k.log(["utilEffects"],"fade out name:"+a.name);k.log(["utilEffects"],"fade in name:"+b.name);a?k.ya(a,k.C/4,function(){this.removeChild(a,!1);c.bind(this)()}.bind(this)):c.bind(this)()};
k.ya=function(a,b,c){b||(b=k.C);a||(a=this);b=cc.gf.create(b,0);c?(c=cc.Xa.create(c),c=cc.Aa.create(b,c),a.Q(c)):a.Q(b)};k.Ma=function(a,b){if(!a||!b)throw"To and From positions required!";var c=cc.vb(a,b),d=Math.abs(a.x-b.x),g=Math.abs(a.y-b.y),h=cc.Ii(c);return{direction:c,qa:h,pj:d,qj:g}};
k.nd=function(a,b){b.name&&(a=b.name);var c=[],d=1;b.$c&&(d=b.$c);for(var g=d;g<=b.frames;g++){var h=cc.A.m().za(a+"."+g+".png");if(!h)throw"Couldn't get a frame for: "+a+"."+g+".png is your naming convention off?";c.push(h)}if(b.rev)for(g=b.frames;g>=d;g--)h=cc.A.m().za(a+"."+g+".png"),c.push(h);c=cc.sj.create(c,b.$d);if(b.Gd)return c=cc.Ug.create(cc.ef.create(c),b.Gd),c.O(),c;c=cc.yj.create(cc.ef.create(c));c.O();return c};
k.er=function(a,b,c,d,g,h,f){if(a=k.U(a,b,c,d))b=new cc.ff,b.ng=g,b.vf=f,b.Rf=h,B();return a};k.Ad=function(a,b){var c=a.N(),d=b.N(),g=d.height/c.height;a.Jc(d.width/c.width);a.Bd(g)};k.rn=function(a,b){var c=a.N(),c=b.N().width/c.width;a.Jc(c);a.Bd(c)};k.pn=function(a,b,c){var d=a.N();b=b.L().width*c/d.width;a.Jc(b);a.Bd(b)};
k.U=function(a,b,c,d){if(b){var g=y[a];b.ra||(b.ra={});b.ra[a]||(b.ra[a]={sprite:k.Z(g.fa,g.Ja,g.start),animation:k.nd(a,g)});if(!b.ra[a].vd){var h;h=d?b:c;var f=b.ra[a].V,l=b.ra[a].Uo;h.k(f);g.qn&&k.pn(f,b,g.qn);f.p(!0);"behind"!=g.rj||d?"behind"==g.rj&&d?h.$(f,-1):"front"==g.rj&&d?h.$(f,2):h.$(f,b.bb()):h.$(f,b.bb()-1);d?k.un(f,b,g):k.wn(f,b,g);g.Gd&&(d=cc.Xa.create(function(){h.removeChild(f,!1);b.ra[a].vd=!1}.bind(this)),l=cc.Aa.create(l,d));f.Q(l);b.ra[a].vd=!0;g.Kh&&c.Kh();g.bj&&c.bj();return f}}};
k.td=function(a,b,c,d){var g=y[a],h=k.Z(g.fa,g.Ja,g.start);h.L();a=k.nd(a,g);h.l(b);h.p(!0);d.k(h);d.$(h,c);g.Gd?(b=cc.Xa.create(function(){d.removeChild(h,!1)}.bind(this)),b=cc.Aa.create(a,b),h.Q(b)):h.Q(a);return h};
k.un=function(a,b,c){var d=c.Ym,g=cc.d(0,0),h=b.N(),f=b.L(),l=a.ab();if(d)if("bottom"==d)g.x+=h.width/2;else if("ground"==d)g.y+=l.height/2,g.x+=h.width/2,b.$(a,k.zl);else if("center"==d)g.x+=h.width/2,g.y+=f.height/2;else if("base2base"==d)g.x+=h.width/2,g.y-=h.height/2,g.y+=l.height;else throw"Unknown effect placement.";c.offset&&(b=cc.d(c.offset.x,c.offset.y),b.x*=k.o,b.y*=k.o,g=cc.Ha(g,b));a.l(g)};
k.wn=function(a,b,c){var d=c.Ym,g=b.u();b=b.L();var h=a.ab();if(d)if("bottom"==d)g.y+=h.height/2;else if("center"==d)g.y+=b.height/2;else if("top"==d)a.l(g);else if("base2base"==d)g.y+=h.height;else throw"Unknown effect placement.";c.offset&&(c=cc.d(c.offset.x,c.offset.y),c.x*=k.o,c.y*=k.o,g=cc.Ha(g,c));a.l(g)};k.bd=function(a,b,c,d,g,h){g||(g=u[b].cc[a]);b={};b=_.extend(b,g);b.name=a;c?b.origin=c:b.element=h;d.Gj(b)};k.Kr=function(a){var b=a.$f();a.p(!b)};
k.Lh=function(a,b,c,d){E.Gb(d.c,a.origin,a.Sa,a.element)&&(d.c[c]||(d.c[c]=k.U(b,d.c,d.c.bb(),d.c.f)))};k.Mh=function(a,b,c){c.c[a]&&c.c.removeChild(c.c[a],!1);delete c.c[a];c.c&&c.c.ra&&c.c.ra[b]&&(c.c.ra[b].vd=!1)};k.jc={air:0,ground:1};k.eo={air:0,ground:1,both:2};k.Gh={"void":0,water:1,fire:2,life:3,none:4,earth:5,air:7};k.Zp=function(a){for(var b in k.Gh)if(k.Gh[b]==a)return b};k.ip=function(){};k.Pk=3600;k.Qk=1800;
k.Yf=function(a,b){var c=k.Pk*k.o,d=k.Qk*k.o,g=a.x-b.x,h=a.y-b.y;return 1>g*g/(c*c)+h*h/(d*d)};k.kl=function(a){var b=k.Oh(a);a=u[a].mh;void 0==a&&(a=0);cc.A.m().pa(I[a]);cc.jf.create(H[a]);return cc.A.m().za(b)};k.Yp=function(a){a=cc.d(a.x,a.y);var b=0.234375*a.y;a.x*=0.234375;a.y=b;return a};k.Ph=function(a){var b=k.Oh(a);a=u[a].mh;void 0==a&&(a=0);return k.Z(I[a],H[a],b)};k.Oh=function(a){return a+"_bg.png"};k.Zj=-99999999;k.Cd=-99999998;k.zl=-99999997;k=k||{};k.xi={};k.Qe=function(a,b){k.dd(a);sys.localStorage.setItem(a,JSON.stringify(b))};k.dd=function(a){var b;b=k.xi[a];if(!b){try{b=JSON.parse(sys.localStorage.getItem(a))}catch(c){return}b&&(k.xi[a]=b)}return b};k.log(["camera"],"cc undefined:"+(void 0==cc));k.log(["camera"],"cc.ActionInterval undefined:"+(void 0==cc.Jd));k.log(["camera"],"cc.ActionInterval looks like:"+cc.Jd);
k.gc?(k.Kd=cc.Jd.extend({li:function(a,b,c,d){if(void 0==b.x||void 0==b.y)throw"Position is not a point";return cc.Jd.prototype.li.call(this,a)?(b.x*=c,b.y*=d,this.Yg=b,this.Zg=c,this.$g=null!=d?d:c,!0):!1},Un:function(a){cc.Jd.prototype.Un.call(this,a);this.bh=this.sc=a.I();this.mf=cc.vb(this.Yg,this.sc);this.nf=a.Wh();this.of=a.Xh();this.Wg=this.Zg-this.nf;this.Xg=this.$g-this.of},update:function(a){if(this.pf){var b=this.pf.I(),b=cc.vb(b,this.bh);this.sc=cc.Ha(this.sc,b);b=cc.d(this.sc.x+this.mf.x*
a,this.sc.y+this.mf.y*a);this.pf.l(b);this.bh=b;this.pf.yg(this.nf+this.Wg*a,this.of+this.Xg*a)}},Yg:cc.d(0,0),sc:cc.d(0,0),mf:cc.d(0,0),Po:1,Qo:1,nf:1,of:1,Zg:0,$g:0,Wg:0,Xg:0}),k.Kd.create=function(a,b,c,d){var g=new k.Kd;g.li(a,b,c,d);return g}):(k.Kd={},k.Kd.create=function(){});k=k||{};function va(a,b,c){b.Gc();a.pb?(a.pb.xk(),a.pb.pause(),a.pb.k(b,c)):a.pb=b;b.l(cc.d(0,0));a.ld.push(b)}k.bg=new function(){this.ld=[]};k=k||{};
k.Sg=cc.H.extend({Xl:function(a,b,c){if(!a)throw"Must supply a definition";if(!a.se)throw"Must supply main button state.";a.Pi||(a.Pi=a.se);this.t=a;this.Ec=b;this.Gi=c;this.jd(a.se);if(this.t.Ve)for(b=0;b<a.Ve.length;b++)c=cc.H.create(),c.jd(a.Ve[b].name),this.k(c),c.l(cc.d(a.Ve[b].x,a.Ve[b].y));this.t.text&&(this.label=cc.Xb.create(this.t.text,this.t.font,this.t.fontSize),this.k(this.label),a=this.N(),this.label.l(cc.d(a.width/2,a.height/2)));this.sg()},setData:function(a){this.data=a},ig:function(){"mouse"in
sys.lh?cc.ua.m().Uf().Hj(this,0):cc.dn(0,!0,this)},Fi:function(){"mouse"in sys.lh?cc.ua.m().Uf().jn(this):cc.to(this)},Ce:function(a){return this.ee(a)?(a=cc.A.m().za(this.t.Pi),this.Sb(a),this.Gi&&this.Gi(this.data),!0):!1},ee:function(a){return this.$f()&&this.fm(a)?!0:!1},wl:function(a){return this.getParent().Xd(a)},fm:function(a){a=a instanceof Array?a[0].Tf():a.Tf();return cc.og(this.ab(),this.wl(a))},Hi:function(){return!1},De:function(a){return this.ee(a)?(a=cc.A.m().za(this.t.se),this.Sb(a),
this.Ec&&!this.paused&&this.Ec(this.data),!0):!1},Km:function(a){return this.Ce(a)},Lm:function(a){return this.De(a)},vr:function(a){this.Ec=a},pause:function(){this.paused=!0},Gc:function(){this.paused=!1}});k.xj=k.Sg.extend({Kc:cc.size(50,50),$j:cc.d(130,130),Ff:0.05,Wl:function(){this.jd("EmptyIcon.png");var a=this.N();this.yg(this.Kc.width/a.width,this.Kc.height/a.height);this.border=k.ve("powerFrame.png");this.k(this.border,10);this.border.l(this.$j);this.Ce=this.lo;this.De=this.no},Sl:function(a,b){if(a){this.He=b;this.name=a;cc.A.m().pa(z[a].fa);var c=cc.A.m().za(z[a].icon);this.Sb(c);this.hg=!0}},zg:function(){var a=cc.A.m().za("powerFrameSelected.png");this.border.Sb(a)},Bn:function(){var a=cc.A.m().za("powerFrame.png");
this.border.Sb(a)},Ec:function(){if(!this.uh&&this.hg){this.uh=!0;this.He.zg(this);var a=z[this.name];this.Ih=Date.now();var b=ba[a.offense].bind(this);if("direct"==a.type)A.v.f.Dc(function(a,d){b(a,d);k.M(this,225);this.He.rg(this.Hf.bind(this),this.Ff)}.bind(this));else if("global"==a.type)b(),k.M(this,225),this.He.rg(this.Hf.bind(this),this.Ff);else throw"Unknown power type.";return!1}},Hf:function(){var a=(Date.now()-this.Ih)/z[this.name].op;if(1<=a)this.M.Ic(cc.size(this.Kc.width,this.Kc.height)),
this.uh=!1,k.vo(this);else{var b=this.M.ab().size;b.height=this.Kc.height-this.Kc.height*a;this.M.Ic(b);this.He.rg(this.Hf.bind(this),this.Ff)}},lo:function(a){if(this.ee(a))return!0},no:function(a){return this.ee(a)?(this.Ec&&!this.paused&&this.Ec(),!0):!1}});k=k||{};k.C=0.25;k.Zd=140;k.S=150*k.o;k.Id="end";k.Mg="began";k.Ng="moved";k.mo="cancel";
k.Ld=cc.vj.extend({q:function(){return this.oa()?(this.h=k.Fb,this.Wn=this.Lk,this.Lk=this.ok,this.Xn=this.ig,this.ig=this.pk,this.Yn=this.Fi,this.Fi=this.qk,this.J=[],this.O(),!0):!1},ih:function(a){this.ak=a},pk:function(){this.Xn();this.df(!0);this.Pa()},bi:function(){this.df(!0);this.Pa()},oq:function(){this.df(!1)},qk:function(){this.Yn();this.df(!1)},Pa:function(){},Sq:function(){},df:function(a){"mouse"in sys.lh?a?cc.ua.m().Uf().Hj(this,1):cc.ua.m().Uf().jn(this):a?cc.dn(0,!0,this):cc.to(this)},
Ce:function(a){return this.ie(k.Mg,a)},Hi:function(a){return this.ie(k.Ng,a)},De:function(a){return this.ie(k.Id,a)},Km:function(a){return this.Ce(a)},Tq:function(a){return this.Hi(a)},Lm:function(a){return this.De(a)},Uq:function(a){return this.ie(k.mo,a)},Ra:function(){throw"child must implement!";},ie:function(a,b){k.log(["touchcore"],"Raw Touch:"+JSON.stringify(b));b=this.oo(b);k.log(["touchcore"],"Raw Touch Point:"+JSON.stringify(b));for(var c=[],d=0;d<this.J.length;d++){var g=this.J[d].getParent(),
g=g?g.Xd(b):this.Xd(b);if(this.J[d]instanceof k.H){var h=this.J[d].L(),f=this.J[d].u(),l={};l.width=1.4*h.width;l.height=1.4*h.height;l.x=f.x-l.width/2;l.y=f.y}else this.J[d]instanceof cc.Xb?(l=this.J[d].ab(),l.width*=2,l.height*=2):l=this.J[d].ab();k.log(["touchcore"],"Sprite:"+this.J[d].name);k.log(["touchcore"],"Position:"+JSON.stringify(l));cc.og(l,g)&&c.push(this.J[d])}return(0<c.length||this.ak)&&!this.qi?this.Ra(a,b,c):!1},oo:function(a){return a instanceof Array?a[0].Tf():a.Tf()},xk:function(){this.M||
(this.M=cc.Tg.create(cc.jh(15,15,15,255)),this.k(this.M));this.M.l(new cc.d(0,0));this.M.wg(0);this.$(this.M,0);this.Ta(this.M,k.Zd)},ro:function(){this.ya(this.M)},Ta:function(a,b,c){c||(c=k.C);b||(b=k.Zd);a||(a=this);b=cc.gf.create(c,b);a.Q(b)},ya:function(a,b){b||(b=k.C);a||(a=this);var c=cc.gf.create(b,0);a.Q(c)},ka:function(a,b,c,d,g,h,f){d||(d=k.C);a.l(b);a.p(!0);var l;f||(f=function(){});f=cc.Xa.create(f);g&&"before"==h?(g=cc.Ha(b,g),c=cc.Za.create(d,c),l=cc.Za.create(d/2,g)):g&&"after"==h?
(l=cc.d(-1*g.x,-1*g.y),c=cc.Ha(c,l),g=cc.Ha(c,g),c=cc.Za.create(d,c),l=cc.Za.create(d/2,g)):c=cc.Za.create(d,c);if(l&&"before"==h)action=cc.Aa.create(l,c,f);else if(l&&"after"==h)action=cc.Aa.create(c,l,f);else{if(l)throw"when var must be before or after";action=cc.Aa.create(c,f)}a.Q(action)},Jn:function(a,b,c,d){var g=this.Nb(a),h=this.h.width/2,f=this.h.height+g.height/2;c||(c=cc.d(h,this.h.height-(g.height/2+k.S)));this.ka(a,cc.d(h,f),c,b,cc.d(0,k.S),"after",d)},Pn:function(a,b,c){b=this.te.L();
a=this.h.width/2;b=this.h.height+b.width;var d=cc.d(a,this.h.height/2);this.ka(this.te,cc.d(a,b),d,k.C,cc.d(0,k.S),"after",c)},Kn:function(a,b,c){var d=a.L(),g=0-d.width,h=this.h.height/2,d=cc.d(this.h.width/2-d.width/2,h);this.ka(a,cc.d(g,h),d,b,cc.d(-1*k.S,0),"before",c)},On:function(a,b,c){var d=a.L();a=this.h.width+d.width;var g=this.h.height/2,d=cc.d(this.h.width/2+d.width/2,g);this.ka(this.qr,cc.d(a,g),d,b,cc.d(k.S,0),"before",c)},Nn:function(a,b,c,d){var g=this.Nb(a);c||(c=cc.d(this.h.width/
2,this.h.height+g.height/2));this.ka(a,a.I(),c,b,cc.d(0,-1*k.S),"before",d)},Gn:function(a,b,c,d){var g=this.Nb(a),h=this.h.width/2,f=0-g.height;c||(c=cc.d(h,g.height/2+k.S));this.ka(a,cc.d(h,f),c,b,cc.d(0,-1*k.S),"after",d)},Ln:function(a,b,c,d){var g=this.Nb(a);c||(c=cc.d(this.h.width/2,0-g.height));this.ka(a,a.I(),c,b,cc.d(0,k.S),"before",d)},Hn:function(a,b,c,d){var g=this.Nb(a),h=0-g.width,f=this.h.height/2;c||(c=cc.d(g.width/2+k.S,f));this.ka(a,cc.d(h,f),c,b,cc.d(-1*k.S,0),"after",d)},Mn:function(a,
b,c,d){var g=this.Nb(a);c||(c=cc.d(0-g.width,this.h.height/2));this.ka(a,a.I(),c,b,cc.d(k.S,0),"before",d)},In:function(a,b,c,d){var g=this.Nb(a),h=this.h.width+g.width,f=this.h.height/2;c||(c=cc.d(this.h.width-(g.width/2+k.S),f));this.ka(a,cc.d(h,f),c,b,cc.d(k.S,0),"after",d)},ej:function(a,b,c,d){var g=this.Nb(a);c||(c=cc.d(this.h.width+g.width,this.h.height/2));this.ka(a,a.I(),c,b,cc.d(-1*k.S,0),"before",d)},Nb:function(a){return a instanceof k.H?a.L():a.N()},Vp:function(a){return k.H.Bg(a,this)},
pause:function(){this.qi=!0},Gc:function(){this.qi=!1},jk:function(){return cc.d(this.N().width*this.hl().x,this.N().height*this.hl().y)},hp:function(a){return cc.Ha(this.jk(),a)},vm:function(a,b,c){if(!b)throw"A window needs a sprite backdrop and a scale9 rect";c||(c=cc.rect(45,45,350,600));var d=cc.No.create();d.jd(b,c);d.Ic(a);d.p(!1);return d},ok:function(){this.Wn()},Mk:function(a,b,c){var d=a.I();a=a.L();this.dc||(this.dc=cc.Wb.create(),this.k(this.dc));d.x-=a.width/2;d.y-=a.height/2;this.dc.l(d);
d=cc.Ib(0,0,0,0);this.dc.clear();this.Lb(this.dc,a,d,b,c)},Lb:function(a,b,c,d,g){var h=b.height;b=b.width;h=[cc.d(0,0),cc.d(0,h),cc.d(b,h),cc.d(b,0)];a.ae(h,c,g,d)},kn:function(a,b){var c=cc.Xa.create(b),c=cc.Aa.create(a,c);this.Q(c)},En:function(a,b){this.ec||(this.ec=k.Z(I[0],H[0],"tutorialChar.png"),this.k(this.ec));if(!this.ai){var c=this.ec.N(),d=this.h.width+c.width,g=this.h.height/2-c.height/4.5,c=cc.d(this.h.width-(c.width/2+k.S),g-c.height/4.5);this.ka(this.ec,cc.d(d,g),c,k.C,cc.d(k.S,0),
"after",function(){this.ai=!0;this.Xj(a,this.ec,"left");this.hb(function(){this.Ti();b&&b()}.bind(this),2)}.bind(this))}},Ti:function(){this.R&&(this.removeChild(this.R),this.R.removeChild(this.R.ub),this.R.ub.xb(),this.R.ub=void 0,this.R.xb(),this.R=void 0);this.ec&&this.ej(this.ec,k.C,void 0,function(){this.ai=!1})},Xj:function(a,b,c){this.R=k.Z(L,K,"dialog1.png");var d=b.I();b=b.N();"left"==c?(this.R.jb(!0),c=cc.d(d.x-b.width,d.y)):c=cc.d(d.x+b.width,d.y);this.R.l(c);this.R.ub=cc.Xb.create(a,k.font.Pf,
k.font.fontSize,k.font.vi,cc.Bj);B(cc.mq());this.R.ub.lb(a);this.k(this.R);this.R.k(this.R.ub);this.zf(this.R.ub,this.R);k.rn(this.R.ub,this.R);ua(this.R.ub,20*k.o,50*k.o);ua(this.R,0,300*k.o)},$k:function(a){this.ze||(this.ze=[]);var b=cc.Xb.create(a,k.font.Pf,k.font.fontSize,k.font.vi,cc.Bj);B(cc.red());b.lb(a);0!=this.ze.length?(a=this.ze[this.ze.length-1].I(),a=cc.d(a.x,a.y+50*k.o),b.l(a)):b.l(this.h.width/2,this.h.height/2);b.mc(k.Hd);this.k(b);this.hb(function(){k.ya(b,void 0,function(){this.removeChild(b)}.bind(this))}.bind(this),
1)},ph:function(a,b){a.l(b.I())},zf:function(a,b){var c=b.N();a.l(cc.d(c.width/2,c.height/2))},Ad:function(a,b){k.Ad(a,b)}});k=k||{};k.kf={};k.Wr=cc.rect(220,220,293,293);k.Hd=1E4;
k.Ba=k.Ld.extend({W:{window:{type:"scale9",anchor:["top"],transitionIn:"top",transitionOut:"bottom",size:{width:50,height:50},scaleRect:k.kf.Sp,sprite:"frame 19.png",padding:{all:0},kids:{subwindow1:{cell:8,type:"scale9",input:!0,size:{width:50,height:50},scaleRect:k.kf.el,sprite:"frame 20.png",padding:{all:0}},subwindow2:{cell:2,type:"scale9",input:!0,size:{width:50,height:50},scaleRect:k.kf.el,sprite:"frame 20.png",padding:{all:0}}}}},q:function(){return this.oa()?(this.pc=[],!0):!1},Dh:function(){this.Xi=
"out";for(var a=0;a<this.pc.length;a++){var b=this.pc[a];b.ia.qo?this.Ik(b,this.Ee.bind(this)):(b.window.p(!1),this.Ee())}},cp:function(a){a=this[a].N();this.wf(a)},wf:function(a){var b=cc.size(a.width*k.o,a.height*k.o);a=(this.h.width-b.width)/2;b=(this.h.height-b.height)/2;this.md=cc.Wb.create();this.xd=cc.Wb.create();this.Lc=cc.Wb.create();this.Sd=cc.Wb.create();this.k(this.md);this.k(this.xd);this.k(this.Lc);this.k(this.Sd);cc.Ib(0,0,0,1);var c=cc.Ib(0,0,0,1);this.md.clear();this.xd.clear();this.Lc.clear();
this.Lc.clear();this.md.l(cc.d(0,0));var d=cc.d(this.h.width-a,0);this.xd.l(d);var g=cc.d(0,this.h.height-b);this.Lc.l(g);this.Sd.l(cc.d(0,0));this.Lb(this.md,cc.rect(0,0,a,this.h.height),cc.Rd(),c,1);this.Lb(this.xd,cc.rect(d.x,d.y,a,this.h.height),cc.Rd(),c,1);this.Lb(this.Lc,cc.rect(g.x,g.y,this.h.width,b),cc.Rd(),c,1);this.Lb(this.Sd,cc.rect(0,0,this.h.width,b),cc.Rd(),c,1);this.md.mc(k.Hd);this.xd.mc(k.Hd);this.Lc.mc(k.Hd);this.Sd.mc(k.Hd)},Lb:function(a,b,c,d,g){var h=b.height;b=b.width;h=[cc.d(0,
0),cc.d(0,h),cc.d(b,h),cc.d(b,0)];a.ae(h,c,g,d)},Ee:function(){this.Ml();this.mk()},Ml:function(){this.af||(this.af=0);this.af++},mk:function(){this.af==this.pc.length&&(this.af=0,"out"==this.Xi?this.Ge():this.hd())},Ge:function(){},hd:function(){},start:function(){this.wf(k.xh);this.Xi="in";for(var a=0;a<this.pc.length;a++){var b=this.pc[a];b.z&&b.window.mc(b.z);b.ia.po?this.Hk(b,this.Ee.bind(this)):(b.window.l(b.position),b.window.p(!0),this.Ee())}},Hk:function(a,b){switch(a.ia.po){case "right":this.In(a.window,
a.ia.Mc,a.position,b);break;case "left":this.Hn(a.window,a.ia.Mc,a.position,b);break;case "top":this.Jn(a.window,a.ia.Mc,a.position,b);break;case "topToMid":this.Pn(a.window,a.ia.Mc,b);break;case "leftToMid":this.Kn(a.window,a.ia.Mc,b);break;case "rightToMid":this.On(a.window,a.ia.Mc,b);break;case "bottom":this.Gn(a.window,a.ia.Mc,a.position,b);break;case "custom":this[a.ia.Gp](b)}},Ik:function(a,b){switch(a.ia.qo){case "right":this.ej(a.window,a.ia.Og,void 0,b);break;case "left":this.Mn(a.window,
a.ia.Og,void 0,b);break;case "top":this.Nn(a.window,a.ia.Og,void 0,b);break;case "bottom":this.Ln(a.window,a.ia.Og,void 0,b);break;case "custom":this[a.ia.Hp](b)}},yl:function(a){var b=this.we(a),c=a.kd,d;for(d in c){var c=a.kd[d],g=this.we(c);c.gb?g.l(cc.d(c.gb.x*k.Hb.scale,c.gb.y*k.Hb.scale)):g.l(cc.d(0,0));b[d]=g;b.k(g)}return b},eb:function(a,b){for(var c in a)if(config=a[c],b||(b=this),config.dm&&!this.designMode)this.Rl(c,config,b);else{config.dm&&(config.V=config.od[0].V);var d=void 0;"scale9"==
config.type&&(d=this.ck(config,b),k.log(["ui"],"scale9 size:"+JSON.stringify(d)));var g=this.we(config,d);d||(d=g.L(),k.log(["ui"],"TextureRect size:"+JSON.stringify(d)));d=this.Uh(config,d,b);g.l(cc.d(-1E3,-1E3));this[c]=g;g.name=c;this.pc.push({window:g,config:config,position:d});b.k(g);config.z|=0;b.$(g,config.z);(config.input||this.designMode)&&this.J.push(g);config.kd&&this.eb(config.kd,g)}},we:function(a,b){var c,d=a.type,g=a.V;this.designMode&&"button"==d?(d="sprite",g=a.se):this.designMode&&
"sprite"!=d&&"label"!=d&&"scale9"!=d&&(d="sprite");if("scale9"==d)c=this.vm(b,g,a.rect);else if("sprite"==d)c=cc.H.create(),c.jd(g),a.scale&&(c.Jc(a.scale/100),c.Bd(a.scale/100));else if("button"==d){c=new k.Sg;if(void 0!=a.$e&&!this[a.$e])throw"supplied:"+a.$e+" for button click but it doesn't exist.";if(void 0!=a.Je&&!this[a.Je])throw"supplied:"+a.Je+" for button press but it doesn't exist.";var h,f;a.$e&&(h=this[a.$e].bind(this));a.Je&&(f=this[a.Je].bind(this));c.Xl(a,h,f);a.scale&&(c.Jc(a.scale/
100),c.Bd(a.scale/100))}else"label"==d?(this.designMode?(c=a.fontSize,d=cc.size(a.width,a.height)):(c=a.fontSize*k.o,d=cc.size(a.width*k.o,a.height*k.o)),c=cc.Xb.create(a.text,a.Pf,c,d,a.Kj),a.color&&B()):"tile"==d&&(c=new k.xj,c.Wl());return c},Rl:function(a,b,c){if(b.od){var d=b.Ai|b.od.length;switch(b.type){case "line":this.Wf(a,b,c,1,d);break;case "stack":this.Wf(a,b,c,d,1);break;case "grid":this.Wf(a,b,c,d/b.cols,b.cols)}}},Wf:function(a,b,c,d,g){d=b.Ai||b.od.length;var h=c.N(),f,l=!1;b.si&&
(f=cc.size(h.width*b.si.width/100,h.height*b.si.height/100),l=!0,k.log(["ui"],"initGrid itemSize hard set:"+JSON.stringify(f)));for(var q=h=-1,s=0,r=0,v,t=0;t<d;t++){var m;m=b.Ai?b.od[0]:b.od[t];var w=this.we(m,f),n=w.L();k.log(["ui"],"element itemSize from boundingBox:"+JSON.stringify(n));l||(k.log(["ui"],"element itemSize not hard set, using elementSize"),f=n);-1==h&&-1==q?(v=this.Uh(b,f,c),h=v.x,q=v.y):0!=r&&(h+=f.width/2);k.log(["ui"],"adding child:"+w.name);void 0==b.z&&(b.z=c.bb()+1);k.log(["ui"],
"reordering child:"+b.z);c.k(w);0!=b.z&&this.$(w,b.z);n=m.name?m.name:a+t;w.name=n;this[n]=w;(b.input||this.designMode)&&this.J.push(w);0!=r&&b.rb&&(b.rb.all?h+=b.rb.all*k.o:b.rb.left&&(h+=b.rb.left*k.o));n=cc.d(h,q);"label"==m.type&&(n.x+=w.N().width/2);this.pc.push({window:w,config:m,position:n});r++;r>=g?(s++,h=v.x,q-=f.height,b.rb&&(b.rb.all?q-=b.rb.all*k.o:b.rb.top&&(q-=b.rb.top*k.o)),r=0):h+=f.width/2}},ck:function(a,b){var c=b.N();a.size||(a.size=c);this.designMode||(a.size.width*=k.o,a.size.height*=
k.o,a.size.width>k.Fb.width&&(a.size.width=k.Fb.width),a.size.height>k.Fb.height&&(a.size.height=k.Fb.height));return a.size},Uh:function(a){if(!a)throw"Need a config!";var b,c;a.gb?(b=a.gb.x,c=a.gb.y):(b=this.h.width/2,c=this.h.height/2);!this.designMode&&a.gb&&(b*=k.o,c*=k.o);a.Wo&&(k.Hb.Pc&&(b+=k.Hb.Pc),k.Hb.Qc&&(c+=k.Hb.Qc));return cc.d(b,c)},fq:function(a){if(3>=a)return 0;if(6>=a)return 1;if(9>=a)return 2;throw"Cell must be 1-9";},Xp:function(a){if(1==a||4==a||7==a)return 0;if(2==a||5==a||8==
a)return 1;if(3==a||6==a||9==a)return 2;throw"Cell must be 1-9";}});k.Ba.create=function(){var a=new k.Ba;if(a&&a.q())return a;throw"Couldn't create the main layer of the game. Something is wrong.";};k.Ba.P=function(){var a=cc.Zb.create(),b=k.Ba.create();a.k(b);return a};k=k||{};
k.Ya=k.Ba.extend({q:function(){if(this.oa()){cc.A.m().pa(L);cc.A.m().pa(N);var a=new cc.H;a.Yl(pa);cc.A.m().Ij(a.up(),"guide");this.designMode=!0;this.eb(this.W);return!0}return!1},Pa:function(){this.start()},Ra:function(a,b,c){c=_.fj(c,function(a){return a.bb()})[c.length-1];a==k.Mg&&(k.log(["console"],c.name),this.Bc=c,this.la=c.I(),this.oe=b);if(a==k.Ng&&this.Bc){c=this.la.x+(b.x-this.oe.x);var d=this.la.y+(b.y-this.oe.y);this.oe=b;this.la=cc.d(c,d);this.Bc.l(this.la)}a==k.Id&&(this.Bc=void 0)},
wp:function(a){this.Bc=a=this[a];this.la=a.I();this.oe=cc.d(0,0)},Cp:function(){this.zh(this,this.W);k.log(["designerout"],this.W)},zh:function(a,b){for(var c=a.nl(),d=0;d<c.length;d++){var g=c[d];g.name&&(b[g.name].gb=g.I(),b[g.name].z=g.bb(),b[g.name].kd&&this.zh(g,b[g.name].kd))}},W:{powerBar:{type:"sprite",sprite:"powersBackground.png",kids:{tiles:{isGroup:!0,type:"line",members:[{type:"sprite",name:"tile0",sprite:"powerFrame.png"},{type:"sprite",name:"tile1",sprite:"powerFrame.png"},{type:"sprite",
name:"tile2",sprite:"powerFrame.png"}],sprite:"powerFrame.png",z:0,pos:{x:159,y:99}}},z:0,pos:{x:413,y:287}}}});k.Ya.create=function(){var a=new k.Ya;if(a&&a.q())return a;throw"Couldn't create the main layer of the game. Something is wrong.";};k.Ya.P=function(){k.Ya.P=cc.Zb.create();k.Ya.P.f=k.Ya.create();k.Ya.P.f.O();k.Ya.P.k(k.Ya.P.f);return k.Ya.P};k=k||{};
k.Vg=k.Ld.extend({q:function(a){return this.oa()?(this.t=a,this.r=this.t.r,this.xe=this.t.xe,this.name="JCScrollingLayer",this.uk(),this.selectedIndex=1,this.xa=!1,this.sg(),!0):!1},uk:function(){for(var a=0,b=0,b=this.t.Ga?this.t.Ud:this.t.Ca,c=0;c<this.r.length;c++){this.J.push(this.r[c]);this.k(this.r[c]);var d=b/2*c+b;this.t.Ga?this.r[c].l(cc.d(0,d)):this.r[c].l(cc.d(d,0));this.t.Ga?this.r[c].L().width>a&&(a=this.r[c].L().width):this.r[c].L().height>a&&(a=this.r[c].L().height);this.$(this.r[c],3)}this.t.Ga?
(b=this.r.length*this.t.Ud,this.tb=this.t.height/2,this.Ic(cc.size(a,b))):(b=this.r.length*this.t.Ca,this.tb=this.t.width/2,this.Ic(cc.size(b,a)))},kb:function(a){k.log(["scroller"],"set on: "+a);this.xa=!1;void 0==a?(k.log(["scroller"],"Bad val for setIndex:"),k.Kf(["scroller"])):(this.selectedIndex=a,this.ik(this.r[a]))},Qi:function(){0!=this.selectedIndex&&this.kb(this.selectedIndex-1)},next:function(){this.selectedIndex<this.r.length-1&&this.kb(this.selectedIndex+1)},left:function(){this.Qi()},
right:function(){this.next()},Sr:function(){this.Qi()},zp:function(){this.next()},Ra:function(a,b,c){if(this.$f())return this.dc&&this.dc.clear(),a==k.Mg&&(k.log(["scroller"],"touchbegan"),this.Xf=b,this.ib=void 0),a==k.Id&&this.Xf&&(k.log(["scroller"],"touchend"),this.Zk(b,c)),a==k.Ng&&this.Xf&&(k.log(["scroller"],"touchmove"),this.scroll(b)),!0},Zk:function(a,b){this.ne=!1;k.log(["scroller"],"fling");if(void 0==this.ib){if(k.log(["scroller"],"fling touch"),b[0]){var c=this.r.indexOf(b[0]);this.kb(c)}}else this.xa=
!this.Eh()},Eh:function(){var a=this.kh(0),b=0,b=this.t.Ga?a.y:a.x;if(b>this.tb)return this.ne=this.xa=!1,this.kb(0),k.log(["scroller"],"edge"),!0;a=this.kh(this.r.length-1);b=0;b=this.t.Ga?a.y:a.x;return b<this.tb?(this.ne=this.xa=!1,this.kb(this.r.length-1),k.log(["scroller"],"edge2"),!0):!1},ik:function(a){a=a.I();a=this.Ef(a);a=this.t.Ga?this.tb-a.y:this.tb-a.x;k.log(["scroller"],"Center needs:"+a);0!=a?this.t.Ga?this.Wi(cc.d(0,a)):this.Wi(cc.d(a,0)):this.Ri()},Wi:function(a){if(!this.Hh){this.Hh=
!0;k.log(["scroller"],"runEndingAdjustment:"+this.xa);var b=cc.Xa.create(this.Ri.bind(this));a=cc.Lo.create(k.C/2,a);b=cc.Aa.create(a,b);this.Q(b)}},Ri:function(){k.log(["scroller"],"raiseSelected:"+this.xa);this.Hh=this.xa=!1;this.Pj(this.r[this.selectedIndex]);var a;this.xe&&(a=this.xe[this.selectedIndex]);this.t.Hc(this.selectedIndex,this.r[this.selectedIndex],a)},Pj:function(a){var b=cc.Ib(1,1,0,1);this.Mk(a,b,2)},update:function(){if(this.xa)if(k.log(["scroller"],"updating"),this.ib){var a=0,
b=0;this.t.Ga?(a=this.ib.y,b=this.t.Ud):(a=this.ib.x,b=this.t.Ca);3<a/b&&(this.t.Ga?this.ib.y=3*this.t.Ud:this.ib.x=3*this.t.Ca);this.l(cc.Ha(this.I(),this.ib));this.ne||(this.ib=cc.jg(this.ib,0.75),1>=Math.abs(a)&&(this.xa=!1,this.Jj()));this.xa=!this.Eh()}else this.xa=!1},kh:function(a){return this.Ef(this.r[a].I())},Jj:function(){var a=-1,b;k.log(["scroller"],"adjust");for(var c=0;c<this.r.length;c++){var d=this.r[c].ab();d.origin=this.Ef(d.origin);var g=this.t.Ga?Math.abs(d.origin.y+this.tb):
Math.abs(d.origin.x-this.tb);if(-1==a||a>g)a=g,b=c;if(this.t.Ga){if(cc.og(d,cc.d(d.origin.x,this.tb))){this.kb(c);return}}else if(cc.og(d,cc.d(this.tb,d.origin.y))){this.kb(c);return}}this.kb(b)},scroll:function(a){k.log(["scroller"],"scroll");this.ab();a=cc.vb(a,this.Xf);this.ib=this.t.Ga?cc.d(0,a.y):cc.d(a.x,0);this.ne=this.xa=!0}});k=k||{};
k.Cj=k.Ld.extend({q:function(a){if(this.oa()){this.Sc=cc.H.create(a);this.k(this.Sc);this.Sc.l(this.h.width/2,this.h.height/2);this.$(this.Sc,k.Zj);this.B=this.Sc.N();this.Rg=cc.d(this.B.width/2,this.B.height/2);this.Zi=cc.d(this.h.width/2,this.h.height/2);this.Fo=cc.rect(this.B.width/4,this.B.height/4,this.B.width/2+this.B.width/4,this.B.height/2+this.B.height/4);this.Cn(cc.d(this.B.width/2,this.B.height/2));this.ih(!0);a=0;this.tf=this.h.width/this.h.height;this.zd=[];for(var b=1;1>=a;){var c=0;
a=parseFloat((this.h.width/(this.B.width/b)).toFixed(2));c=1<a?1:a;this.zd.push({x:c,y:c/this.tf});b+=0.2}this.oc=cc.Tg.create(cc.jh(255,255,255,255));a=cc.d(this.B.width/2,this.B.height/2);a.x-=this.h.width/2;a.y-=this.h.height/2;a=this.Wd(a);this.oc.l(a);this.oc.Ic(this.h);this.oc.p(!1);this.k(this.oc);return!0}return!1},ql:function(a,b){var c=a/this.tf;if(!(c>=b))for(;c<b;)a+=10,c=a/this.tf;return this.zc(a,c)},Ji:function(a,b,c,d){a=this.Df(a);this.Ch(b,a,c,d)},Tp:function(a,b){var c=this.tl(),
d=this.Df(cc.d(this.B.width/2,this.B.height/2));this.Ch(c,d,a,b)},Ch:function(a,b,c,d){b=cc.Za.create(c,b);a=cc.Oo.create(c,a.x,a.y);this.kn(b,d);this.Q(a)},Kh:function(){this.oc.p(!0);this.oc.wg(255);k.ya(this.oc,k.C)},bj:function(){if(!this.cj){var a=cc.zj.create(0.04,4),b=cc.zj.create(0.04,-4),a=cc.Aa.create(a,b),a=cc.Ug.create(a,10),b=cc.Jo.create(0.05),c=cc.Xa.create(function(){console.log("shake done!");this.cj=!1;this.xg(0)}.bind(this)),a=cc.Aa.create(a,b,c);this.Q(a);this.cj=!0}},Wp:function(a){for(var b=
void 0,c=0;c<this.zd.length;c++){var d=this.zd[c];d.x<=a.x&&d.y<=a.y&&(b?d.x>b.x&&d.y>b.y&&(b=d):b=d)}b||(b=this.zd[this.zd.length-1]);return b},zc:function(a,b){var c={x:this.h.width/a,y:this.h.height/b};2<c.x&&(c.x=2);2<c.y&&(c.y=2);return c},jq:function(){return{x:1,y:1}},gq:function(){return this.zc(this.B.width/2,this.B.height/2)},hq:function(){return this.zc(this.B.width/4,this.B.height/4)},iq:function(){return this.zc(this.B.width/16,this.B.height/16)},sl:function(){return this.zc(0.5*this.B.width,
0.5*this.B.height)},tl:function(){return this.zc(0.9*this.B.width,0.9*this.B.height)},Df:function(a){k.dk(a,this.Fo);a=cc.jg(a,-1);return cc.Ha(a,this.Rg)},Wd:function(a){a=this.Go(a);return this.Xd(a)},Go:function(a){var b=this.Oe(this.Zi);a=cc.vb(b,a);a.x*=this.Wh();a.y*=this.Xh();return cc.vb(this.Zi,a)},Oe:function(a){return this.Sc.Xd(a)},Cn:function(a){a=this.Df(a);this.l(a)},Ra:function(){}});k=k||{};k.hf=function(){};k.hf.prototype.q=function(){this.da=this.Yb};k.ki=function(a,b){for(var c in b)void 0==a[c]&&(a[c]=b[c]);return a};k=k||{};k.Ho=1;k.tj=0;String.prototype.Qf||(String.prototype.Qf=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})});
k.H=cc.H.extend({f:void 0,To:!0,Zl:function(a,b,c,d){this.qc=20;this.Nc=5;this.ga={};this.Qd=null;this.state=-1;this.Bc=0;this.La=null;this.gi=0;this.name=d.name;this.baseOffset=d.baseOffset;cc.A.m().pa(a);this.Qd=cc.jf.create(b);this.Qd.O();this.de={};a=cc.A.m().za(c);if(!a)throw c+" for sprite: "+d.name+" was not found.";this.mi(a);this.O();this.type=d.type;"background"!=this.type&&(this.Ul(),this.Vl(),this.sg());this.debug=!1;d.T||(d.T="tank");c=wa[d.T];if(!c)throw"Unrecognized behavior name: "+
d.T;this.i=new k.hf;d.ca&&_.extend(this.i,d.ca);this.i.q();this.T=new c(this);this.vc=d.T;return this},cn:function(){this.bf();this.cf();this.p(!0)},Ck:function(){this.f.removeChild(this,!0);this.f.removeChild(this.mb,!0);this.f.removeChild(this.cb,!0);this.Bf()},Vk:function(){var a=this.mb.I(),b=cc.vb(a,this.I()),b=cc.Ii(b)/this.i.speed,a=cc.Za.create(a,b);this.Q(a)},tp:function(){this.ei=!0},Vl:function(){this.mb=new cc.H;var a=cc.A.m().za("shadowSmall.png");this.mb.mi(a);this.mb.Jc(0.5);this.mb.name=
"shadow";this.mb.O();this.f.k(this.mb);this.f.$(this.mb,k.Cd);this.cf()},Ul:function(){this.cb=cc.Wb.create();this.cb.O();this.cb.np=cc.size(this.qc,this.Nc);this.cb.name="healthBar";this.f.k(this.cb);this.bf()},Bf:function(){this.La&&(this.Gg(this.La),this.La.xb(),this.La=void 0);this.state=-1;this.f.removeChild(this.mb,!0);this.f.removeChild(this.cb,!0);for(var a=0;a<this.ga.length;a++)this.ga[a].action.xb();this.Qd.xb()},Fj:function(a){if(void 0==a.Di)throw"Nameformat is required in a sprite definition.";
if(void 0==a.state)throw"State is required in a sprite definition.";if(void 0==a.type)throw"Animation type 'type' is required in a sprite definition.";if(void 0==a.$d)throw"Animation delay 'delay' is required in a sprite definition.";var b=this.om(a);b.O();a.action=b;this.ga[a.state]=a},om:function(a){var b=[],c="",d,c=a.start,g=a.end;void 0==c&&(c=0);if(void 0==g){if(void 0==a.frames)throw"You must provide either an end range or a number of frames when creating an entry.";g=a.frames-1}for(var h=
c;h<=g;h++){c=a.Di.Qf(h);d=cc.A.m().za(c);if(!d)throw"Couldn't get frame. What is: "+c;b.push(d)}b=cc.sj.create(b,a.$d);a.type==k.tj?(b=cc.yj.create(cc.ef.create(b)),b.O()):(b=cc.ef.create(b),b=cc.Ug.create(b,1),g=cc.Xa.create(this.sf,this),b=cc.Aa.create(b,g));b.tag=a.state;return b},fe:function(){return this.i.Hg*k.va},Zh:function(){return"range"==this.vc?this.i.Hg*k.va:this.i.Hg/2*k.va},kq:function(){return this.i.tn},u:function(){var a=this.I(),b=this.N();a.y-=b.height/2;return a},Pe:function(a){var b=
this.N();a.y+=b.height/2;this.l(a);this.f.$(this,-1*a.y);this.bf();this.cf()},moveTo:function(a,b,c,d){k.log(["sprite","move"],"Moving:"+this.name);var g=cc.vb(a,this.I());c=cc.Ii(g)/c;void 0!=this.La&&(k.log(["sprite","move"],"Stopping move in process."),this.Gg(this.La),this.La.xb(),this.La=void 0);k.log(["sprite","move"],"Setting state to required move.");this.n(b);d||(d=this.Bm.bind(this));a=cc.Za.create(c,a);k.log(["sprite","move"],"creating the move sequence");this.La=cc.Aa.create(a,cc.Xa.create(d));
this.La.O();k.log(["sprite","move"],"running move sequence");this.Q(this.La)},ja:function(){return 0<this.i.da?!0:!1},Bm:function(){this.n(this.gi);this.Gg(this.La)},sf:function(){var a;this.ga[this.state].Jb&&(a=this.ga[this.state].Jb);a&&a(this.Gm)},sa:function(){return this.state},Gj:function(a){this.de[a.name]=a},fn:function(a){delete this.de[a]},n:function(a,b){if(!a)throw"Undefined state passed to setState";var c=this.state;this.state=a;k.log(["sprite","state"],"State Change For:"+this.name+
" from:"+c+" to:"+this.state);if(this.state==c)k.log(["sprite","state"],"Trying to set a state already set, exit");else{this.Gm=this.ja()?"idle":"dead";var d=this.ga[this.state],g=this.ga[c];if(!d)throw"Couldn't start state. What is state: "+this.state+" currentState:"+c;d.Jb=b;if(-1!=c){if(!g)throw"Couldn't stop state. What is currentState:"+c;k.log(["sprite","state"],"Stopping action.");g.action&&this.Gg(g.action)}k.log(["sprite","state"],"Starting action.");d.action&&this.Q(d.action);"background"!=
this.type&&(this.bf(),this.cf())}},gp:function(){var a=cc.ua.m().xl();this.l(cc.d(a.width/2,a.height/2))},tr:function(a){var b=wa[a];if(!b)throw"Unrecognized behavior name: "+a;this.T=new b(this)},Fd:function(a){this.T.Fd(a)},Ap:function(){var a=this.u(),b=this.L();this.Yc||(this.Yc=cc.Wb.create(),this.f.k(this.Yc),a.x-=b.width/2,this.Yc.l(a));a=cc.Ib(0,0,0,0);b=cc.Ib(35/255,28/255,40/255,1);this.Yc.clear();this.Lb(this.Yc,this.L(),a,b,4)},Lb:function(a,b,c,d,g){var h=b.height;b=b.width;h=[cc.d(0,
0),cc.d(0,h),cc.d(b,h),cc.d(b,0)];a.ae(h,c,g,d)},Nk:function(){k.log(["healthbar"],"hide health bar?"+this.ei);if(!this.ei){k.log(["healthbar"],"healthbar");this.cb.clear();var a=[];a[0]=cc.d(0,0);a[1]=cc.d(0,this.Nc-1);a[2]=cc.d(this.qc-1,this.Nc-1);a[3]=cc.d(this.qc-1,0);var b=cc.Ib(1,0,0,1),c=cc.Ib(26/255,245/255,15/255,1),d=cc.Ib(35/255,28/255,40/255,1);this.cb.ae(a,b,0.7,d);a=[];b=this.i.da/this.i.Yb;0>b&&(b=0);a[0]=cc.d(0,0);a[1]=cc.d(0,this.Nc-1);a[2]=cc.d((this.qc-2)*b+0.5,this.Nc-1);a[3]=
cc.d((this.qc-2)*b+0.5,0);this.cb.ae(a,c,0.7,d);k.log(["healthbar"],"healthbar")}},update:function(){this.Nk()},bf:function(){if("background"!=this.type&&this.$f()){var a=this.u(),b=this.L();a.y+=b.height+10;a.x-=this.qc/2;this.cb.l(a)}},cf:function(){if("background"!=this.type){var a=this.u();this.i&&this.i.ad&&(a.y-=this.i.ad.y/2);this.mb.l(a)}}});
k.H.dq=function(a){var b=99999,c=-1,d;for(d in a.ga)a.ga[d].start<b&&(b=a.ga[d].start),a.ga[d].end>c&&(c=a.ga[d].end);if(99999==b)throw"something wrong...";if(99999==c)throw"something wrong...";a.zr=b;a.Fp=c};
k.H.Bg=function(a,b){var c=u[a];if(!c)throw"Character not found: "+a;var d=new k.H;d.f=b;var g=c.name+".{0}.png";if(c.ki){var h=c.name;_.extend(c,u[c.ki]);c.name=h;c.Rm=void 0}if(void 0==c.animations)throw a+" has a malformed configation. Animation property missing.";h=c.ga.idle.start;_.extend(new k.hf,c.ca);c.type="character";d.Zl(P[a],O[a],g.Qf(h),c);for(var f in c.ga)h=k.Cf(c.ga[f]),h.Di=g,h.state=f,d.Fj(h),"idle"==f&&(d.gi=f),"move"==f&&(d.Bc=f);c.Y&&k.U(c.Y,d,b,!0);return d};
k.mr=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};!function(a){function b(a){a&&(this.Md=a,a.wc&&(this.wc=a.wc),a.Ac&&(this.D.Ac=a.Ac),a.ob&&(this.ob=a.ob),a.pd&&(this.pd=a.pd),this.ob&&(this.qe={}))}function c(a){this.D={};this.pd=!1;b.call(this,a)}function d(a,b,c,g){if(!c)return[];var s=[],r,v,t,m;t=b.length;m=b[g];var w=b[g+1];if(g===t&&c.K){if("function"===typeof c.K)a&&a.push(c.K);else for(b=0,g=c.K.length;b<g;b++)a&&a.push(c.K[b]);return[c]}if("*"===m||"**"===m||c[m]){if("*"===m){for(r in c)"_listeners"!==r&&c.hasOwnProperty(r)&&(s=s.concat(d(a,
b,c[r],g+1)));return s}if("**"===m){(m=g+1===t||g+2===t&&"*"===w)&&c.K&&(s=s.concat(d(a,b,c,t)));for(r in c)"_listeners"!==r&&c.hasOwnProperty(r)&&("*"===r||"**"===r?(c[r].K&&!m&&(s=s.concat(d(a,b,c[r],t))),s=s.concat(d(a,b,c[r],g))):s=r===w?s.concat(d(a,b,c[r],g+2)):s.concat(d(a,b,c[r],g)));return s}s=s.concat(d(a,b,c[m],g+1))}(v=c["*"])&&d(a,b,v,g+1);if(c=c["**"])if(g<t)for(r in c.K&&d(a,b,c,t),c)"_listeners"!==r&&c.hasOwnProperty(r)&&(r===w?d(a,b,c[r],g+2):r===m?d(a,b,c[r],g+1):(t={},t[r]=c[r],
d(a,b,{"**":t},g+1)));else c.K?d(a,b,c,t):c["*"]&&c["*"].K&&d(a,b,c["*"],t);return s}var g=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.prototype.wc=".";c.prototype.event="";c.prototype.Mm=function(a,b){this.xm(a,b);return this};c.prototype.xm=function(a,b){var c=1;function d(){0===--c&&g.Im(a,d);b.apply(this,arguments)}var g=this;if("function"!==typeof b)throw Error("many only accepts instances of Function");d.Nd=b;this.hg(a,d)};c.prototype.Tk=
function(){this.D||(this.D={},this.Md&&b.call(this,this.Md));var a=arguments[0];if("newListener"!==a||this.pd||this.D.pd){if(this.rc){for(var c=arguments.length,g=Array(c-1),q=1;q<c;q++)g[q-1]=arguments[q];q=0;for(c=this.rc.length;q<c;q++)this.event=a,this.rc[q].apply(this,g)}if("error"===a&&!(this.rc||this.D.error||this.ob&&this.qe.error)){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.");}var s;this.ob?(s=[],c="string"===typeof a?a.split(this.wc):
a.slice(),d.call(this,s,c,this.qe,0)):s=this.D[a];if("function"===typeof s)if(this.event=a,1===arguments.length)s.call(this);else{if(1<arguments.length)switch(arguments.length){case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:c=arguments.length;g=Array(c-1);for(q=1;q<c;q++)g[q-1]=arguments[q];s.apply(this,g)}}else if(s){c=arguments.length;g=Array(c-1);for(q=1;q<c;q++)g[q-1]=arguments[q];s=s.slice();q=0;for(c=s.length;q<c;q++)this.event=a,s[q].apply(this,
g)}}};c.prototype.hg=function(a,c){if("function"===typeof a)return this.Jm(a),this;if("function"!==typeof c)throw Error("on only accepts instances of Function");this.D||(this.D={},this.Md&&b.call(this,this.Md));this.Tk("newListener",a,c);if(this.ob){a:{for(var d=a,d="string"===typeof d?d.split(this.wc):d.slice(),q=0,s=d.length;q+1<s;q++)if("**"===d[q]&&"**"===d[q+1])break a;q=this.qe;for(s=d.shift();s;){q[s]||(q[s]={});q=q[s];if(0===d.length){q.K?"function"===typeof q.K?q.K=[q.K,c]:g(q.K)&&(q.K.push(c),
q.K.Pg||(d=10,"undefined"!==typeof this.D.Ac&&(d=this.D.Ac),0<d&&q.K.length>d&&(q.K.Pg=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",q.K.length),console.trace()))):q.K=c;break}s=d.shift()}}return this}this.D[a]?"function"===typeof this.D[a]?this.D[a]=[this.D[a],c]:g(this.D[a])&&(this.D[a].push(c),this.D[a].Pg||(d=10,"undefined"!==typeof this.D.Ac&&(d=this.D.Ac),0<d&&this.D[a].length>d&&(this.D[a].Pg=
!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.D[a].length),console.trace()))):this.D[a]=c;return this};c.prototype.Jm=function(a){this.rc||(this.rc=[]);if("function"!==typeof a)throw Error("onAny only accepts instances of Function");this.rc.push(a)};c.prototype.Im=function(a,b){if("function"!==typeof b)throw Error("removeListener only takes instances of Function");var c,q=[];if(this.ob)c="string"===
typeof a?a.split(this.wc):a.slice(),q=d.call(this,null,c,this.qe,0);else{if(!this.D[a])return;c=this.D[a];q.push({K:c})}for(var s=0;s<q.length;s++){var r=q[s];c=r.K;if(g(c)){for(var v=-1,t=0,m=c.length;t<m;t++)if(c[t]===b||c[t].cg&&c[t].cg===b||c[t].Nd&&c[t].Nd===b){v=t;break}if(0>v)break;this.ob?r.K.splice(v,1):this.D[a].splice(v,1);0===c.length&&(this.ob?delete r.K:delete this.D[a])}else if(c===b||c.cg&&c.cg===b||c.Nd&&c.Nd===b)this.ob?delete r.K:delete this.D[a]}};"function"===typeof define&&define.Lj?
define(function(){return c}):a.Ko=c}(k);var E=cc.Mo.extend({});e=E.prototype;e.sa=function(){this.xf||this.n("idle");this.$b||this.c.n("idle");return{ha:this.xf,Ka:this.$b}};e.Gc=function(){this.n(this.jm,this.im)};e.n=function(a,b,c){this.jm=this.xf;this.im=this.$b;a&&(this.xf=a);b&&(this.$b=b,this.c.n(this.$b,function(a){"damage"==this.$b?this.Gc():(this.$b=a,this.c.n(this.$b));c&&c()}.bind(this)))};e.q=function(a){this.c=this.c=a};e.lj=function(a,b){return W(this,b.u(),a,a)};
e.ho=function(a,b,c){c=c.u();b=this.Ma(b,c);return b.pj<=a&&b.qj<=a?!0:!1};e.Qg=function(a){return W(this,a,this.c.fe(),this.c.Zh())};function W(a,b,c,d){var g=a.c.u();a=a.Ma(b,g);return a.pj<=c&&a.qj<=d?!0:!1}e.fo=function(a){var b=this.c.u();return this.Ma(a.u(),b).qa<=this.c.i.tn?!0:!1};function Ca(a){return X(a,a.oi.bind(a,["healer","range"]),a.c.qb())}e.oi=function(a,b){return-1!=a.indexOf(b.vc)?!0:!1};
e.ri=function(a){if("range"!=a.vc&&"healer"!=a.vc)return!1;for(var b=0;b<this.c.Pb().length;b++){var c=this.c.Pb()[b];if(c!=this.c&&c.T.s==a)return!1}return!0};function X(a,b,c){for(var d=void 0,g=a.c.f.B.width,h=0;h<c.length;h++){var f=c[h];if(f.ja()&&Da(a,f)){var l=a.Ma(f.u(),a.c.u());l.qa<g&&(void 0!=b?b(f)&&(g=l.qa,d=f):(g=l.qa,d=f))}}return d}function Da(a,b){return b.i.jc==a.c.i.We||a.c.i.We==k.eo.dp?!0:!1}
function da(a,b,c){for(var d=[],g=0;g<c.length;g++){var h=c[g];h.ja()&&h!=a.c&&b(h)&&d.push(h)}return d}function ca(a,b){return da(a,a.lj.bind(a,b),a.c.Pb())}function aa(a,b,c){return da(a,a.ho.bind(a,b,c),a.c.qb())}
function Ea(a){if(a.g){var b=Fa(a,"front","facing",a.g),c=ca(a,10),d=a.c.u();if(0!=c.length)for(var g=0;g<c.length;g++)if(10>Math.abs(c[g].u().y-d.y)&&a.c.al!=c[g]){c[g].al=a.c;b.y+=25;break}a.c.i.ad&&a.g.i.jc==k.jc.ed&&(a.c.Fa()||(a.c.i.ad.x*=-1),b=cc.Ha(b,a.c.i.ad));a.c.i.jc==k.jc.ed&&(c=cc.d(a.c.f.h.width/2,a.c.f.h.height/2),k.Yf(b,c)||(b=c));return a.seek(b)}}
function Fa(a,b,c,d){if(!d)return a.c.u();var g=a.c.L(),h=d.u(),f;"front"==b&&(f=d.Fa()?cc.d(h.x-g.width,h.y):cc.d(h.x+g.width,h.y));"behind"==b&&(f=d.Fa()?cc.d(h.x+g.width,h.y):cc.d(h.x-g.width,h.y));"facing"==c&&"front"==b&&a.c.jb(!d.Fa());"facing"==c&&"behind"==b&&a.c.jb(d.Fa());"away"==c&&"font"==b&&a.c.jb(d.Fa());"away"==c&&"behind"==b&&a.c.jb(!d.Fa());return f}
e.seek=function(a){if(!this.c)throw"Owning game object required";if(this.Of){if(W(this,a,25,25))return this.Of=void 0,cc.d(0,0)}else if(this.Qg(a))return cc.d(0,0);var b=this.c.u();a=this.Ma(a,b);b=this.c.i.speed;if(!b)throw"Character: "+this.c.name+" speed not defined.";return cc.jg(cc.Wq(a.direction),b)};e.Ma=function(a,b){return k.Ma(a,b)};function Ga(a,b,c){b=cc.Ha(a.c.u(),cc.jg(b,c));a.c.Pe(b)}e.Il=function(){this.s&&E.Na(this.c,this.s,this.c.i.Na)};
E.Na=function(a,b,c){if(0>b.i.da||b.i.da>=b.i.Yb)return!1;b.i.da=b.i.da+c<b.i.Yb?b.i.da+c:b.i.Yb;return!0};E.prototype.fi=function(){if(this.g){E.Gb(this.g,this.c,this.c.i.Sa);var a=u[this.c.name].cc,b;for(b in a)a[b].name=b,F[a[b].name].bind(this)(this.c.name)}};E.Gb=function(a,b,c,d){if(!d&&!b)throw"must supply an attacker or an elementType";d||(d=u[b.name].Sk);if(a.i.wh)for(var g in a.i.wh)g==d&&(c-=a.i.wh[g]/100*c,0>c&&(c=0));b&&a.T.g!=b&&"range"!=b.vc&&(c+=0.2*c);return E.Oj(a,b,c)};
E.Oj=function(a,b,c){return 0<a.i.da?(a.i.da-=c,0>=a.i.da?a.T.n("dead","dead"):b&&(a.T.wa=b),!0):!1};e=E.prototype;e.Fd=function(a){Ha(this);switch(this.sa().ha){case "idle":this.Ob(a);break;case "fighting":this.ge(a)}Ia(this)};function Ha(a){if(a.yf)1==a.yf&&(a.c.hb(a.yk.bind(a),3),a.yf++);else{var b=a.sa();a.c.ja()||"dead"==b.ha||(a.n("dead","dead"),a.c.jc==k.jc.Od&&a.c.Vk());if(!a.c.ja()){a.c.Rr();var b=u[a.c.name].Yd,c;for(c in b){b[c].name=c;var d=a;F[b[c].name].bind(d)(d.c.name)}a.yf=1}}}
e.yk=function(){this.c.Ck()};e.ge=function(a){var b=this.sa();if(this.g)if(this.g.ja()){var c=this.c.i.qf.attack,d=this.c.i.Fh.attack;void 0==this.Ua&&(this.Ua=c);this.Ua>=c&&-1==b.Ka.indexOf("attack")?(Ja(this,function(){var a=Ea(this);a?0==a.x&&0==a.y||this.n("move","move"):this.n("move","move")}.bind(this)),this.c.hb(this.fi.bind(this),d),this.Ua=0):this.Ua+=a}else this.n("idle",b.Ka);else this.n("idle",b.Ka)};
function Ja(a,b){void 0==a.Rc&&(a.Rc=1);if(1==a.Rc)a.n("fighting","attack");else{var c="attack"+a.Rc;a.c.ga[c]?a.n("fighting",c,b):(a.Rc=0,a.n("fighting","attack",b))}a.Rc++}
e.Ob=function(){if(this.g&&this.wa&&this.g!=this.wa){var a,b=this.wa;a=this.Ma(this.g.u(),this.c.u());b=this.Ma(b.u(),this.c.u());a=b.qa<a.qa?-1:a.qa<b.qa?1:0;1==a&&(this.wa=void 0);-1==a&&(this.g=this.wa,this.wa=void 0)}this.g&&this.Qg(this.g.u())||(this.yc=!1,this.g=X(this,void 0,this.c.qb()));this.g&&!this.g.ja()&&(this.yc=!1,this.g=X(this,void 0,this.c.qb()));this.g&&this.n("move","move")};
e.he=function(a){var b=this.sa();if("move"==b.ha||"followUserCommand"==b.ha)"followUserCommand"==b.ha?Ka(this,a):(this.yc||this.Ob(a),(b=Ea(this))?0==b.x&&0==b.y?this.n("fighting","move"):Ga(this,b,a):(this.n("idle","idle"),this.yc=!1))};function Ka(a,b){var c=a.seek(a.Of);0==c.x&&0==c.y?(a.g=void 0,a.s=void 0,a.n("idle","idle")):Ga(a,c,b)}e.Gk=function(a){F[a.name].bind(this)(this.c.name)};
function Ia(a){if(a.c.ja()){a.tg||(a.tg={});var b=u[a.c.name].wb,c;for(c in b)if(!a.tg[c]){b[c].name=c;var d=a.Gk.bind(a,b[c]);a.c.qg(d,b[c].interval);a.tg[c]=b[c]}a.Ne||(a.Ne={});for(var g in a.c.de)b=a.c.de[g],a.Ne[g]||(c=a.Nj.bind(a,b),d=a.gn.bind(a,b,c,g),a.c.qg(c,b.interval,b.duration/b.interval-2,void 0),b.duration&&a.c.hb(d,b.duration),a.Ne[g]=b)}}e.gn=function(a,b,c){F[a.name+"-remove"].bind(this)(a);this.c.uo(b);this.c.fn(c);this.Ne[c]=void 0};e.Nj=function(a){F[a.name+"-apply"].bind(this)(a)};function La(a){_.extend(this,new E);this.q(a);this.Ob=this.Fl;this.ge=this.El;this.Qg=this.Eo;if(!this.w){(a=this.c.i.w)||(a="greenbullet");var b=x[a];b.Fn?this.w=k.Z(b.fa,b.Ja,b.start):(this.w=k.Z(b.fa,b.Ja,b.start),this.fg=k.nd(a,b),this.w.Q(this.fg));this.w.jb(!this.c.Fa())}}
La.prototype.El=function(a){this.yc||(this.g=X(this,void 0,this.c.qb()));var b=this.sa();if(this.g)if(this.g.ja())if(this.g.ja()||-1!=b.Ka.indexOf("attack")){var c=this.c.i.qf.attack,d=this.c.i.Fh.attack;void 0==this.Ua&&(this.Ua=c);b=this.sa();this.Ua>=c&&-1==b.Ka.indexOf("attack")&&!this.Nf?(Ja(this),this.c.hb(this.Fk.bind(this),d),this.Ua=0):this.Ua+=a}else this.n("idle",b.Ka);else this.n("idle",b.Ka);else this.n("idle",b.Ka)};
La.prototype.Fk=function(){if(this.g)if(this.Nf){var a=this.sa();this.n(a.ha,"idle")}else{this.Nf=!0;var b=this.c.i.w;b||(b="greenbullet");var c=x[b],d=this.Ma(this.g.u(),this.c.u()).qa/c.speed;this.w||(k.log(["rangeBehavior"],"Animating: "+this.c.name+" missle: "+b),c.Fn?this.w=k.Z(c.fa,c.Ja,c.start):(this.w=k.Z(c.fa,c.Ja,c.start),this.fg=k.nd(b,c),this.w.Q(this.fg)),this.w.jb(!this.c.Fa()));this.c.f.k(this.w);var b=this.c.u(),g=this.c.L();this.c.Fa()?b.x-=g.width/2:b.x+=g.width/2;b.y+=g.height/
2;c.offset&&(b=cc.Ha(b,c.offset));this.c.i.zm&&(b=cc.Ha(b,this.c.i.zm));this.w.l(b);this.w.jb(!this.c.Fa());"base"==this.c.i.Nq?b=this.g.u():(b=this.g.u(),g=this.g.L(),b.y+=g.height/2);var h,f=this.w.I(),g=this.Ma(b,f);c.path?"bezier"==c.path?(h=[],h.push(f),f=cc.Qm(f,b),f.y+=g.qa/2,h.push(f),h.push(b),h=cc.Io.create(d,h)):"jump"==c.path?h=cc.uj.create(d,b,g.qa/2,1):"arrow"==c.path?h=cc.uj.create(d,b,g.qa/3,1):"bullet"==c.path&&(h=cc.Xq(cc.vb(f,b)),this.w.xg(h),h=cc.Za.create(d,b)):h=cc.Za.create(d,
b);c.rotation&&(this.c.Fa()?(this.w.xg(-1*c.$l),a=cc.Aj.create(d,-45)):(this.w.xg(c.$l),a=cc.Aj.create(d,45)));d=cc.Xa.create(function(){this.g&&(this.fi(),c.Y&&k.U(c.Y,this.g,this.c.f));this.c.f.removeChild(this.w,!1);this.Nf=!1}.bind(this));h.O();d=cc.Aa.create(h,d);d.O();this.w.Q(d);a&&(a.O(),this.w.Q(a))}};La.prototype.Fl=function(){(this.g=X(this,void 0,this.c.qb()))&&this.n("move","move")};La.prototype.Eo=function(a){return W(this,a,this.c.fe(),this.c.fe())};function Ma(a){_.extend(this,new E);this.q(a);this.fd=this.Ob;this.Ob=this.ci;this.he=this.Al;this.Fd=this.Ak}Ma.prototype.Al=function(a){var b=this.sa();if("move"==b.ha||"attackmove"==b.ha||"followUserCommand"==b.ha)"followUserCommand"==b.ha?Ka(this,a):"attackmove"==b.ha?(b=Ea(this))?0==b.x&&0==b.y?this.n("fighting","move"):Ga(this,b,a):(this.n("idle","idle"),this.yc=!1):(b=Fa(this,"front","away",this.s),b=this.seek(b),0==b.x&&0==b.y?this.n("seek","idle"):Ga(this,b,a))};
Ma.prototype.Ak=function(a){var b=this.sa();Ha(this);switch(b.ha){case "idle":this.ci(a);break;case "fighting":this.ge(a);break;case "seek":this.s&&this.s.T.wa&&this.s.T.wa.ja()?(this.g=this.s.T.wa,this.n("attackmove","move")):(this.g=X(this,this.fo.bind(this),this.c.qb()))?this.n("attackmove","move"):this.s&&(a=Fa(this,"front","away",this.s),a=this.seek(a),0!=a.x&&0!=a.y&&this.n("move","idle"));break;case "damage":this.wa&&this.wa.ja()&&this.wa!=this.g&&-1==["range","mage"].indexOf(this.wa.vc)?(this.g=
this.wa,this.n("attackmove","move")):this.Gc()}Ia(this)};Ma.prototype.ci=function(a){this.s||(this.s=X(this,this.ri.bind(this),this.c.Pb()));this.s&&this.s.ja()||(this.s=void 0,this.g=X(this,this.ri.bind(this),this.c.Pb()));this.s?this.n("move","move"):this.fd(a)};function Na(a){_.extend(this,new E);this.q(a);this.fd=this.Ob;this.Ob=this.Bl}Na.prototype.Bl=function(){this.g||(this.g=Ca(this));this.g&&!this.g.ja()&&(this.g=void 0,this.g=Ca(this));this.g?this.n("move","move"):this.fd()};function Oa(a){_.extend(this,new E);this.fd=this.Ob;this.Fd=this.Jl;this.Dl=this.he;this.he=this.Cl;this.q(a)}Oa.prototype.Cl=function(a){var b=this.sa();if("move"==b.ha||"followUserCommand"==b.ha)if("followUserCommand"==b.ha)Ka(this,a);else if(this.s){var b=this.sa(),c=Fa(this,"behind","facing",this.s),c=this.seek(c);0==c.x&&0==c.y?this.n("healing",b.Ka):Ga(this,c,a)}else this.Dl(a)};
Oa.prototype.Jl=function(a){var b=this.sa();Ha(this);switch(b.ha){case "idle":this.s&&this.s.ja()||(this.s=X(this,this.oi.bind(this,["tank","range"]),this.c.Pb()));this.s?W(this,this.s.u(),2*this.c.fe(),this.c.Zh()/2)?0<this.s.i.da&&this.s.i.da<this.s.i.Yb&&(this.sa(),this.n("healing","attack")):this.n("move","move"):this.fd(a);break;case "fighting":this.ge(a);break;case "healing":if(b=this.sa(),"attack"!=b.Ka)if(this.s)if(this.s.ja()){var c=Fa(this,"behind","facing",this.s),c=this.seek(c);if(0!=
c.x&&0!=c.y)this.n("move","move");else{var c=this.c.i.qf.heal,d=this.c.i.Fh.heal;void 0==this.ic&&(this.ic=c);this.ic>=c&&"attack"!=b.Ka?0>this.s.i.da||this.s.i.da>=this.s.i.Yb?this.ic+=a:(this.c.hb(this.Il.bind(this),d),k.U("heal",this.s,this.s.bb(),this.c.f),this.ic=0,this.n("healing","attack")):(this.ic+=a,this.n("healing",b.Ka))}}else this.n("idle","idle");else this.n("idle","idle")}Ia(this)};var wa={tank:function(a){_.extend(this,new E);this.q(a)},range:La,healer:Oa,flanker:Na,defender:Ma};A=A||{};A.j={};k.gc?(A.j.target=location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),A.j.pg=A.j.target):(A.j.target="http://www.riftsummoner.com",A.j.pg="http://www.riftsummoner.com");A.j.get=function(a,b){A.j.yh("GET",a,void 0,b)};A.j.lg=function(a,b,c){A.j.yh("POST",a,b,c)};
A.j.yh=function(a,b,c,d){var g;try{g=new XMLHttpRequest}catch(h){throw"Couldn't create xmlhttp \x3d "+h;}g.onreadystatechange=function(){k.log(["console"],"readystatechange");if(4==g.readyState){k.log(["console"],"readystatechange 4");var a=g.responseText,b;try{b=JSON.parse(a)}catch(c){if(k.log(["console"],"failed to parse:"+a+" with "+c),b=a,""==b||!1==b||null==b)b=void 0}200==g.status?d&&d(void 0,b):(0==g.status?(a=500,b="connection dropped."):a=g.status,d&&d(a,b))}};g.open(a,b);c?(g.setRequestHeader("Content-type",
"application/json"),a=JSON.stringify(c),g.send(a)):g.send()};A.j.sb=function(a,b,c){for(var d=b.split("/"),g=0,h=0;h<d.length;h++)if(-1!=d[h].indexOf(":")){if(g>=c.length)throw"Insufficient number of params passed to make a url for: "+b;d[h]=c[g];g++}return a+d.join("/")};A.j.getBlob=function(a,b){var c=A.j.sb(A.j.target,"/app/getblob/:token",arguments);A.j.get(c,b)};A.j.Gf=function(a,b,c){var d=A.j.sb(A.j.pg,"/app/createplayer/:id/:pass",arguments);A.j.get(d,c)};
A.j.Vf=function(a,b,c,d){var g=A.j.sb(A.j.pg,"/app/gettokenandblob/:id/:data/:hash",arguments);A.j.get(g,d)};A.j.lc=function(a,b,c){var d=A.j.sb(A.j.target,"/app/saveblob/:token",arguments);A.j.lg(d,b,c)};A.j.cd=function(a,b){var c=A.j.sb(A.j.target,"/app/getgames/:token",arguments);A.j.get(c,b)};A.j.Mf=function(a,b){var c=A.j.sb(A.j.target,"/app/findgame/:token",arguments);A.j.get(c,b)};A.j.X=function(a,b,c){var d=A.j.sb(A.j.target,"/app/getteam/:token/:opponent",arguments);A.j.get(d,c)};
A.j.Vb=function(a,b,c,d){var g=A.j.sb(A.j.target,"/app/victory/:token/:opponent",arguments);A.j.lg(g,c,d)};A.j.Kb=function(a,b,c,d){var g=A.j.sb(A.j.target,"/app/defeat/:token/:opponent",arguments);A.j.lg(g,c,d)};var Qa=k.Ba.extend({Zc:[],Uc:{},J:[],Ca:140,cells:20,Tc:void 0,ud:{},Re:"squad1Cells",Cg:"squad2Cells",q:function(){return this.oa()?(cc.A.m().pa(L),this.eb(this.W),this.gd=k.Z(L,K,"portraitSmallSelected.png"),this.gd.p(!1),this.te.k(this.gd),this.name="SelectTeam",va(k.bg,this),this.$c=!1,!0):!1},Pa:function(){this.Be=!0;if(this.$c)void 0!=A.Qa.vg&&void 0!=A.Qa.bc&&(a=A.e.Nl(),d=this.gk(A.Qa.bc),a?(this.hn(a,A.Qa.bc),this.If(a,d),this.Jf(a,d,A.Qa.bc),A.Qa.vg=void 0,A.Qa.bc=void 0):this[A.Qa.bc].Ia&&
(k.ya(this[A.Qa.bc].Ia),A.e.rk(d)));else{this.start();for(var a=A.e.Sh(),b=A.Ed/2,c=0;c<b;c++)if(void 0!=a[c]){var d=c;this.If(a[c],d);this.Jf(a[c],d,this.Re+c)}for(c=b;c<A.Ed;c++)void 0!=a[c]&&(d=c,this.If(a[c],d),this.Jf(a[c],d,this.Cg+(c-b)));this.$c=!0}},gk:function(a){return-1!=a.indexOf(this.Re)?parseInt(a.replace(this.Re,"")):parseInt(a.replace(this.Cg,""))+A.Ed/2},hn:function(a){a=A.e.ol(a);-1!=a&&(a=this.jl(a),this[a].Ia&&k.ya(this[a].Ia))},jl:function(a){return a>=A.Ed/2?this.Cg+(a-A.Ed/
2):this.Re+a},Jf:function(a,b,c){a=A.e.Rh(a);a=k.Ph(a.name);this.Ad(a,this[c]);k.Yi(a);this.ph(a,this[c]);this[c].Ia?k.$n.bind(this)(this[c].Ia,a):(this.te.k(a),k.Ta(a,255));this[c].Ia=a;this.$(a,this[c].bb());this[c].border||(this[c].border=k.Z(L,K,"portraitSmall.png"),this.te.k(this[c].border),this.ph(this[c].border,this[c]),this.$(this[c].border,this[c].Ia.bb()+1))},If:function(a,b){A.e.Tm(a,b)},kr:function(){k.log(["selectTeam"],"previousButton")},Qq:function(){k.log(["selectTeam"],"nextButton")},
Lp:function(){this.Be&&(this.Be=!1,0!=A.e.Sh().length&&A.ea.f.Rj())},Dq:function(){this.Be&&cards.hm.dr(function(a){var b={Ig:A.e.X(),Er:"4x4x4a",Fr:["poisonCloud","healing"]};if(a)for(var c=0;c<a.length;c++)cards.hm.send(a[c].Tr,{title:"Get some",text:"My army will crush you",data:b})})},close:function(){k.log(["selectTeam"],"close")},Ra:function(a,b,c){c[0]&&a==k.Id&&(this.gd.p(!0),a=c[0].I(),this.gd.l(a),this.$(this.gd,c[0].bb()+1),A.Qa.bc=c[0].name,this.Be=!1,va(k.bg,Pa.m(),10));return!0},W:{mainFrame:{type:"sprite",
blackBox:!0,applyAdjustments:!0,transitionIn:"top",transitionOut:"top",sprite:"genericBackground.png",z:0,kids:{squad1Cells:{isGroup:!0,z:1,type:"grid",cols:3,itemPadding:{top:3,left:4},input:!0,members:[{type:"sprite",input:!0,sprite:"portraitSmallDarkBackground.png"}],membersTotal:9,sprite:"portraitSmallDarkBackground.png",pos:{x:307,y:804}},squad2Cells:{isGroup:!0,z:1,type:"grid",cols:3,itemPadding:{top:3,left:4},input:!0,members:[{type:"sprite",input:!0,sprite:"portraitSmallDarkBackground.png"}],
membersTotal:9,sprite:"portraitSmallDarkBackground.png",pos:{x:1285,y:804}},fightButton:{type:"button",main:"buttonFight.png",pressed:"buttonFight.png",touchDelegateName:"fightStart",z:1,pos:{x:1023,y:133}}},pos:{x:1024,y:777.9999999999999}}}});Qa.P=function(){A.Rb||(A.Rb=cc.Zb.create(),A.Rb.O(),A.Rb.f=new Qa,A.Rb.f.O(),A.Rb.k(A.Rb.f),A.Rb.f.q());return A.Rb};var Pa=k.Ba.extend({Zc:[],Uc:{},J:[],cells:20,Tc:void 0,ud:{},q:function(){return this.oa()?(cc.A.m().pa(L),cc.A.m().pa(I[0]),this.eb(this.W),this.name="EditTeam",!0):!1},Pa:function(){this.start();if(!this.aa){this.aa=new k.Vg;this.characterPortraitsFrame.k(this.aa);var a=this.pl();this.Ca=2*a.r[0].N().width;this.aa.q({r:a.r,xe:a.Ll,Ca:this.Ca,Hc:this.Hc.bind(this),width:this.h.width});var a=this.aa.N(),b=a.height/2,b=b+25*k.o;this.aa.l(cc.d(a.width/2,b));this.$(this.aa,3);this.aa.bi()}},hd:function(){this.Xk||
(this.aa.kb(1),this.Xk=!0)},Ge:function(){var a=k.bg,b=a.ld.pop();if(0<a.ld.length)a.pb=a.ld[a.ld.length-1];else throw"No Layers";b.pause();a.pb.removeChild(b,!1);a.pb.ro();a.pb.Gc();a.pb.Pa()},tm:function(a){a=_.map(a,function(a){return this.sm(a)}.bind(this));var b=k.ve("characterPortraitFrame.png");a.push(b);return a},sm:function(a){var b=k.ve("characterPortraitFrame.png");b.Ia=k.Ph(a);b.k(b.Ia);this.Ad(b.Ia,b);k.Yi(b.Ia);this.zf(b.Ia,b);b.Ia.mc(-1);return b},pl:function(){var a=A.e.ll(),b=_.Fc(a,
"name"),a=_.Fc(a,"id"),b=this.tm(b);return{Ll:a,r:b}},$p:function(a){for(var b=[],c=0;c<a;c++){var d=k.ve("characterPortraitFrame.png");this.Ca||(this.Ca=d.L().width+100);b.push(d)}return b},Ra:function(){return!0},trainPower:function(){k.log(["editTeam"],"train")},doneButton:function(){A.Qa.vg=this.aa.selectedIndex;this.close()},Hc:function(a,b,c){c?(this.Td.p(!0),this.element.p(!0),this.wi=a=A.e.Rh(c),b=k.kl(a.name),this.Zn(b),this.Um(a),this.Sm(a),this.xo(a),this.Ql()):(this.Td.p(!1),this.wi=void 0,
this.element.p(!1),this.Kl(),this.rh())},rh:function(){this.ed.p(!1);this.Od.p(!1)},Sm:function(a){this.rh();a=u[a.name];0==a.ca.We&&(this.ed.p(!1),this.Od.p(!0));1==a.ca.We&&(this.ed.p(!0),this.Od.p(!1));2==a.ca.We&&(this.ed.p(!0),this.Od.p(!0))},Kl:function(){var a=k.eg(),b;for(b in a)a="lbl"+b,this[a]&&this[a].p(!1)},Dn:function(){var a=k.eg(),b;for(b in a)a="lbl"+b,this[a]&&this[a].p(!0)},xo:function(a){this.Dn();a=k.eg(a.name);a=this.um(a);for(var b in a)this["lbl"+b].lb(a[b])},um:function(a){for(var b in a)if(a[b]=
a[b].toString(),7>a[b].length)for(var c=0;c<7-a[b].length;c++)a[b]+=" ";return a},Um:function(a){a=k.Rk(u[a.name].Sk);void 0==a?this.element.p(!1):(this.element.p(!0),k.bo(this.element,a))},Ql:function(){this.bk(u[this.wi.name])},bk:function(a){this.ji.lb(a.Qp);this.ii.lb(a.rp)},rq:function(){this.Bh=!0},qq:function(){this.Ni("out");k.Ta(this.ji,255,2*k.C);k.Ta(this.ii,255,2*k.C);k.Ta(this.Ol,255,2*k.C,function(){this.hb(this.hi.bind(this),2)}.bind(this))},hi:function(){this.Bh?(this.Pl(),this.Bh=
!1):this.hb(this.hi.bind(this),2)},Ni:function(a){for(var b=0;5>b;b++)"in"==a&&(k.Ta(this["powerIcons"+b],255,2*k.C),k.Ta(this["powerLevels"+b],255,2*k.C)),"out"==a&&(k.ya(this["powerIcons"+b],2*k.C),k.ya(this["powerLevels"+b],2*k.C))},Pl:function(){this.Ni("in");k.ya(this.Ol,2*k.C);k.ya(this.ji,2*k.C);k.ya(this.ii,2*k.C)},Zn:function(a){k.ya(this.Td,k.C,function(){k.ao(this.Td,a);k.Ta(this.Td,255)}.bind(this))},jr:function(){this.aa.left()},Pq:function(){this.aa.right()},close:function(){this.Dh()},
W:{mainFrame:{blackBox:!0,size:{width:2048,height:1365},type:"sprite",rect:{origin:{x:220,y:220},size:{width:293,height:293}},applyAdjustments:!0,transitionIn:"top",transitionOut:"top",sprite:"genericBackground.png",z:0,kids:{closeButton:{type:"button",main:"closeButton.png",pressed:"closeButtonPressed.png",touchDelegateName:"close",z:1,pos:{x:1973,y:1081}},statsFrame:{type:"sprite",sprite:"statsFrame.png",z:2,pos:{x:596,y:731}},doneButton:{type:"button",main:"buttonDone.png",pressed:"buttonDonePressed.png",
touchDelegateName:"doneButton",z:4,pos:{x:1500,y:457}},characterPortraitsFrame:{type:"sprite",sprite:"characterPortraitsFrame.png",z:1,pos:{x:1019,y:200}},characterPortraitsLeft:{type:"button",main:"characterPortraitsButtonLeftBrown.png",pressed:"characterPortraitsButtonLeftPressedBrown.png",touchDelegateName:"previousChar",z:10,pos:{x:97,y:208}},characterPortraitsRight:{type:"button",main:"characterPortraitsButtonRightBrown.png",pressed:"characterPortraitsButtonRightPressedBrown.png",touchDelegateName:"nextChar",
z:10,pos:{x:1956,y:198}},card:{type:"sprite",sprite:"gargoyleFire_bg.png",z:1,pos:{x:781,y:680}},element:{type:"sprite",sprite:"elements_0000_void.png",z:5,pos:{x:1015,y:420}},air:{type:"sprite",sprite:"canAttackAir.png",z:1,pos:{x:238,y:1039}},ground:{type:"sprite",sprite:"canAttackGround.png",z:1,pos:{x:384,y:1039}},lblhp:{type:"label",text:"HEALTH",width:80,height:80,alignment:0,fontSize:23,fontName:"gow",z:3,pos:{x:297,y:860}},lbldamage:{type:"label",text:"DAMAGE",width:80,height:80,alignment:0,
fontSize:23,fontName:"gow",z:3,pos:{x:297,y:778}},lblspeed:{type:"label",text:"SPEED",width:80,height:80,alignment:0,fontSize:23,fontName:"gow",z:3,pos:{x:297,y:626}},lblpower:{type:"label",text:"POWER",width:80,height:80,alignment:0,fontSize:23,fontName:"gow",z:3,pos:{x:297,y:541}},lblrange:{type:"label",text:"RANGE",width:80,height:80,alignment:0,fontSize:23,fontName:"gow",z:3,pos:{x:297,y:461}},lblarmor:{type:"label",text:"ARMOR",width:80,height:80,alignment:0,fontSize:23,fontName:"gow",z:3,pos:{x:297,
y:703}},infoDialog:{type:"sprite",sprite:"titleDescription.png",z:3,pos:{x:1525,y:750}},infoTitle:{type:"label",text:"TITLE",width:400,height:80,alignment:0,fontSize:25,fontName:"gow",z:4,pos:{x:1590,y:980}},infoText:{type:"label",text:"DESC",width:600,height:200,alignment:0,fontSize:25,fontName:"gow",z:4,pos:{x:1525,y:780}}},pos:{x:1024,y:768}}}});Pa.m=function(){A.ce||(A.ce=new Pa,A.ce.O(),A.ce.q());return A.ce};var Va=k.Ba.extend({Zc:[],Uc:{},J:[],Ca:200,cells:20,Tc:void 0,ud:{},q:function(){return this.oa()?(cc.A.m().pa(L),this.eb(this.W),this.name="Victory",console.log("victory"),!0):!1},Pa:function(){this.start()},hd:function(){k.log(["victory"],"in transition complete")},Ge:function(){k.log(["victory"],"out transition complete")},Ra:function(a,b,c){console.log(c[0].name);return!1},close:function(){this.rd()},rd:function(){},W:{mainFrame:{cell:5,type:"sprite",transitionIn:"topToMid",transitionOut:"top",
sprite:"victoryScreenWindow.png",kids:{okButton:{type:"button",main:"buttonOk.png",pressed:"buttonOk.png",touchDelegateName:"close",z:1,pos:{x:510,y:85}}},z:0,pos:{x:1040,y:792.0000000000005}}}});var Wa=k.Ba.extend({Zc:[],Uc:{},J:[],Ca:200,cells:20,Tc:void 0,ud:{},q:function(){return this.oa()?(cc.A.m().pa(L),this.eb(this.W),this.name="Defeat",!0):!1},Pa:function(){this.start()},hd:function(){k.log(["defeatdialog"],"oh noes")},Ge:function(){k.log(["defeatdialog"],"oh noes")},Ra:function(){k.log(["defeatdialog","touchcore"],"oh noes");return!1},close:function(){this.rd()},rd:function(){},W:{mainFrame:{cell:5,type:"sprite",transitionIn:"topToMid",transitionOut:"top",sprite:"defeatWindow.png",
kids:{okButton:{type:"button",main:"buttonOk.png",pressed:"buttonOk.png",touchDelegateName:"close",z:1,pos:{x:510,y:125}}},z:0,pos:{x:1040,y:792.0000000000005}}}});var Xa=k.Ba.extend({Zc:[],Uc:{},J:[],Ca:140,cells:20,Tc:void 0,ud:{},hk:"gridCells",q:function(){return this.oa()?(cc.A.m().pa(ia),this.eb(this.W),!0):!1},Pa:function(){this.start()},lr:function(){A.ea.f.ug()},ap:function(){A.ea.f.ye()},Ar:function(){},Vn:function(){},W:{mainFrame:{cell:5,type:"sprite",sprite:"landingScreen.png",z:1,kids:{questButton:{type:"button",main:"questButton.png",pressed:"questButtonPressed.png",touchDelegateName:"quest",z:2,pos:{x:804,y:468}},battleButton:{type:"button",
main:"battleButton.png",pressed:"battleButtonPressed.png",touchDelegateName:"battle",z:2,pos:{x:1316,y:468}},summonButton:{type:"button",main:"summonButton.png",pressed:"summonPressed.png",touchDelegateName:"summon",z:2,pos:{x:808,y:220}},storeButton:{type:"button",main:"storeButton.png",pressed:"storeButtonPressed.png",touchDelegateName:"summon",z:2,pos:{x:1316,y:218}}},pos:{x:1004,y:756}}}});Xa.P=function(){A.hc||(A.hc=cc.Zb.create(),A.hc.O(),A.hc.f=new Xa,A.hc.k(A.hc.f),A.hc.f.q());return A.hc};var Y=k.Cj.extend({ma:[],na:[],r:[],ba:{},ta:void 0,nb:void 0,ir:0.2,ko:45,q:function(){this.name="Arena";return this.oa(ha)?(this.ba.a=[],this.ba.b=[],this.Jg=18,this.Ab=this.Jg/2,this.sg(),this.Sf=0,this.Ie=cc.d(400*k.o,187*k.o),this.mg=cc.d(-305*k.o,187*k.o),this.Oi=cc.d(159*k.o,100*k.o),this.$m=200*k.o,this.Dg=cc.d(1700*k.o,187*k.o),this.gj=cc.d(2300*k.o,187*k.o),this.Eg=cc.d(250*k.o,100*k.o),this.Rn=200*k.o,!0):!1},Dp:function(){for(var a=this.nl(),b=0;b<a.length;b++)console.log("Name:"+a[b].name),
console.log("JCSprite: "+(a[b]instanceof k.H)),console.log("CCSprite: "+(a[b]instanceof cc.H)),console.log("CCDrawNode: "+(a[b]instanceof cc.Wb)),console.log("Is: "+typeof a[b]),a[b].ah&&a[b].ah.Ej&&console.log("Texture:"+a[b].ah.Ej.src)},Pa:function(){cc.A.m().pa(ka);cc.jf.create(oa);this.En("Quick! Click anywhere to deploy your squads!");A.v.data?this.ln():this.mn()},ln:function(){this.ma=A.v.data.Cb;this.ta=A.v.data.ta;this.na=A.v.data.Db;this.nb=A.v.data.nb;this.Wm();this.Xm();this.aj();this.sd=
1;this.Ji(this.Rg,this.sl(),k.C,function(){this.Dc(this.ni,!0)}.bind(this))},mn:function(){this.ma.push("orge");this.ma.push("orge");this.ma.push("orge");this.ma.push("orge");this.ma.push("orge");this.ma.push("blueKnight");this.ma.push("blueKnight");this.ma.push("orge");this.ma.push("voidElf");this.ma.push("forestElf");this.ma.push("voidElf");this.ma.push("forestElf");this.Xe=k.dl["4x4x4a"];this.na.push("elementalStone");this.na.push("elementalStone");this.na.push("elementalStone");this.na.push("elementalStone");
this.na.push("voidElf");this.na.push("voidElf");this.na.push("voidElf");this.na.push("voidElf");this.na.push("voidElf");this.na.push("voidElf");this.na.push("voidElf");this.na.push("voidElf");this.Ye=k.dl["4x4x4b"];this.aj()},ni:function(a){this.la=this.Oe(a);var b=cc.d(this.h.width/2,this.h.height/2);k.Yf(a,b)&&this.la.x<this.Rg.x?(this.Ti(),1==this.sd&&this.Li("a"),2==this.sd&&this.Li("b"),2==this.sd||9>=this.ba.a.length?(A.e.lc(),this.Va=void 0,this.Vm(),a=function(a){return void 0!=a},this.Pm=
{a:[].concat(this.ba.a),b:[].concat(this.ba.b)},this.ba.a=_.filter(this.ba.a,a),this.ba.b=_.filter(this.ba.b,a),this.r=this.ba.a.concat(this.ba.b),this.Ue=!0,this.qg(function(){this.xa(0.1)},0.1)):(this.sd++,this.Dc(this.ni,!0))):this.$k("Click on the left side of the arena. You can't place troops there.")},Vm:function(){this.la=cc.d(this.B.width/2,this.B.height/2);this.la.x+=500*k.va;this.kg(this.ba.b,this.Ab);this.la.x+=500*k.va;this.kg(this.ba.b,this.Jg)},Li:function(a){var b=this.Wd(this.la);
A.e.zn(a,this.la);k.td("movement",b,k.Cd,this);this.kg(this.ba.a,this.sd*this.Ab)},kg:function(a,b){for(var c=b-this.Ab;c<b;c++){var d=a[c];if(d){var g=cc.d(this.la.x,this.la.y),h=c;c>this.Ab&&(h-=this.Ab);var f=h%4,l=Math.floor(h/4),h=200*k.va,q=-175*k.va;a[c].Fa()||(h*=-1);l*=q;g.x+=f*h;g.y+=l;g=this.Wd(g);d.Pe(g);d.cn(!0);k.U("teleport",d,this)}}},ul:function(a,b){for(var c=[],d=0,g=this.Pm.a,d="a"==a?this.Ab:this.Jg,h=d-this.Ab;h<d;h++)if(g[h]){var f=cc.d(b.x,b.y),l=h;h>this.Ab&&(l-=this.Ab);
var q=-175*Math.floor(l/4)*k.va;f.x+=l%4*200*k.va;f.y+=q;c.push({member:g[h],pos:f})}return c},Yh:function(a){a=k.H.Bg(a,this);a.n("idle");this.k(a.Qd);this.k(a);a.p(!1);a.f=this;return a},aj:function(){for(var a,b=0;b<this.ma.length;b++)this.ma[b]&&(a=this.Yh(this.ma[b].name),a.Pb=this.X.bind(this,"a"),a.qb=this.X.bind(this,"b"),a.Ig="a",a.p(!1),this.ba.a[b]=a,this.J.push(a));for(b=0;b<this.na.length;b++)this.na[b]&&(a=this.Yh(this.na[b].name),a.jb(!0),a.Pb=this.X.bind(this,"b"),a.qb=this.X.bind(this,
"a"),a.Ig="b",a.p(!1),this.ba.b[b]=a,this.J.push(a))},X:function(a){return this.ba[a]},Dc:function(a,b){this.Va=a;this.Va.wm=b},Xm:function(){this.zb=k.Z(N,M,"powersBackground.png");this.zb.jb(!0);A.v.k(this.zb);this.zb.l(this.Dg);this.J.push(this.zb);this.Se=k.Z(N,M,"powerFrame.png");this.zb.k(this.Se);this.Se.l(this.Eg);this.J.push(this.Se);this.Te=k.Z(N,M,"powerFrame.png");this.zb.k(this.Te);this.Te.l(cc.d(this.Eg.x+this.Rn,this.Eg.y));this.J.push(this.Te);this.th()},Wm:function(){this.uf={};this.kc=
k.Z(N,M,"powersBackground.png");A.v.k(this.kc);this.kc.l(this.Ie);this.J.push(this.kc);3<this.ta.length&&(this.ta=this.ta.slice(0,2));for(var a=0;a<this.ta.length;a++){var b="power"+a;this[b]=k.Z(N,M,"powerFrame.png");var c=this.ta[a];this.kc.k(this[b]);this[b].Ze=k.Z(z[c].fa,z[c].Ja,z[c].icon);this[b].k(this[b].Ze);this.Ad(this[b].Ze,this[b]);this.zf(this[b].Ze,this[b]);this[b].Ze.mc(this[b].bb()-1);this[b].l(cc.d(this.Oi.x+this.$m*a,this.Oi.y));this.J.push(this[b]);this.uf[b]=c}this.sh()},sh:function(){this.gh=
!1;this.ka(this.kc,this.Ie,this.mg,k.C,cc.d(k.S,0),"before")},Nm:function(){this.gh=!0;this.ka(this.kc,this.mg,this.Ie,k.C,cc.d(-1*k.S,0),"after")},th:function(){this.hj=!1;this.ka(this.zb,this.Dg,this.gj,k.C,cc.d(-1*k.S,0),"before")},Om:function(){this.hj=!0;this.ka(this.zb,this.gj,this.Dg,k.C,cc.d(k.S,0),"after")},update:function(a){for(var b=0;b<this.r.length;b++)this.r[b].T.he(a)},xa:function(a){var b=this.B.width,c=0,d=this.B.height,g=0,h=!1;if(this.Ue&&(this.Sf+=a,!this.nk())){for(var f=0;f<
this.r.length;f++){if(this.r[f].getParent()==this){var l=this.r[f].u(),h=!0,q=this.r[f].L(),l=this.Ef(l),s=this.Oe(l),l=s.x+q.width,r=s.x-q.width,v=s.y+1.5*q.height,q=s.y-q.height/2;l>c&&(c=l);r<b&&(b=r);v>g&&(g=v);q<d&&(d=q)}this.r[f].Fd(a)}!this.on&&h&&(a=cc.Qm(cc.d(b,d),cc.d(c,g)),b=this.ql(c-b,g-d),this.ag?c=cc.vb(this.ag,a):(this.ag=a,c=cc.d(51,51)),50<Math.abs(c.x)||50<Math.abs(c.y))&&(this.ag=a,this.Ji(a,b,k.C,function(){this.on=!1}.bind(this)))}},yn:function(a,b){if(b){var c=[],c=c.concat(this.X("b")),
c=c.concat(this.X("a"));(c=this.Nh(a,b,c))&&-1!=this.X("b").indexOf(c)&&Da(this.yb.T,c)?doEnemyTouch.bind(this)(c):(c&&this.X("a").indexOf(c),doGenericTouch.bind(this)())}else this.Ah.bind(this)()},Ah:function(a,b){this.Va=void 0;var c=a.T;c.Of=b;c.n("followUserCommand","move")},yp:function(a,b){k.td("allySelection",b,k.Cd,this);this.yb.removeChild(this.yb.ra.characterSelect.V);this.yb.ra.characterSelect.vd=!1;this.Va=void 0;var c=this.yb.T;c.s=a;c.n("move","move")},xp:function(a,b){k.td("enemySelection",
b,k.Cd,this);this.yb.removeChild(this.yb.ra.characterSelect.V);this.yb.ra.characterSelect.vd=!1;this.Va=void 0;var c=this.yb.T;c.g=a;c.yc=!0;c.n("move","move")},Ra:function(a,b,c){a==k.Id&&(this.Va?(this.Va(b,c),this.Va&&!this.Va.wm&&(this.Va=void 0)):c&&(this.kk(c),this.lk(c)));return!0},lk:function(a){for(var b=0;b<a.length;b++){if(a[b]==this.Se){this.Dc(this.Bi.bind(this,"a"));return}if(a[b]==this.Te){this.Dc(this.Bi.bind(this,"b"));return}}for(b=0;b<a.length;b++)a[b]==this.zb&&(this.hj?this.th():
this.Om())},Bi:function(a,b){var c=this.Oe(b),c=this.Wd(c);k.td("movement",c,k.Cd,this);c=this.ul(a,c);_.Da(c,function(a){this.Ah(a.Kq,a.gb)}.bind(this))},kk:function(a){for(var b in this.uf)for(var c=0;c<a.length;c++)if(a[c]==this[b]){a[c].yo||this.Uk(this.uf[b],a[c]);return}for(c=0;c<a.length;c++)a[c]==this.kc&&(this.gh?this.sh():this.Nm())},Uk:function(a,b){if(this.Ue){b.yo=!0;var c=z[a];if(!c)throw"unknown power: "+a;this.Ih=Date.now();var d=ba[c.offense].bind(this);if("direct"==c.type)A.v.f.Dc(function(a,
c){d(a,c);k.M(b,155)}.bind(this));else if("global"==c.type)d(),k.M(this,155);else throw"Unknown power type.";}},jp:function(a){if(a=this.Nh(nodePos,a,this.X("a")))k.U("characterSelect",a,this,!0),this.yb=a,this.Va=this.yn.bind(this)},Nh:function(a,b,c){for(var d,g=this.h.width,h=0;h<b.length;h++)if(b[h].getParent()==this&&-1!=c.indexOf(b[h])){var f=k.Ma(a,b[h].I());f.qa<g&&(g=f.qa,d=b[h])}return d},nk:function(){for(var a=!0,b=!0,c=0,d=0,g=this.X("a"),h=this.X("b"),f=0;f<g.length;f++)g[f].getParent()==
this&&(a=!1),c++;for(f=0;f<h.length;f++)h[f].getParent()==this&&(b=!1),d++;if(b)return this.dj(),!0;if(a)return this.Ag(),!0;this.jo()&&(c>d&&this.dj(),d>c&&this.Ag(),d==c&&this.Ag())},dj:function(){this.Ue=!1;A.v.data.Fe&&A.fb.Vb(A.v.data.Fe,A.v.data);A.e.lc();this.Vb=new Va;this.Vb.rd=function(){this.removeChild(this.Vb,!1);A.ea.f.$h()}.bind(this);this.Vb.q();A.v.k(this.Vb)},Ag:function(){this.Ue=!1;A.v.data.Fe&&A.fb.Kb(A.v.data.Fe,A.v.data);A.e.lc();this.Kb=new Wa;this.Kb.rd=function(){this.removeChild(this.Kb,
!1);A.ea.f.$h()}.bind(this);this.Kb.q();A.v.k(this.Kb)},jo:function(){return this.Sf>this.ko?!0:!1}});Y.create=function(){var a=new Y;if(a&&a.q())return a;throw"Couldn't create the main layer of the game. Something is wrong.";};Y.P=function(){A.v&&(A.v.f.xb(),A.v.xb());A.v=cc.Zb.create();A.v.O();A.v.f=Y.create();A.v.f.O();A.v.k(A.v.f);return A.v};var Z=k.Ld.extend({Vc:"shadowKnight",Y:"select",q:function(){if(this.oa()){Ya.P();if(Z.loaded)this.go(),k.U(this.Y,this.V,this,!1),this.ih(!0);else{Z.loaded=!0;var a=[];this.Vc&&A.ea.f.rf(a,this.Vc);this.Y&&($(a,P[this.Y]),$(a,O[this.Y]));this.w&&($(a,P[this.w]),$(a,O[this.w]));for(var b=0;b<a.length;b++)a[b]={src:a[b]};for(b=0;b<ra.length;b++)a.push(ra[b]);a={assets:a,nextScene:"animationTest"};b=new Za;cc.ua.m().Vh().k(b);b.q(a)}return!0}return!1},go:function(){this.V&&(this.removeChild(this.V,
!1),this.V.Bf&&this.V.Bf(),this.V=void 0);if(this.Vc)this.pm(this.Vc);else if(this.Y)this.qm(this.Y);else if(this.w)this.rm(this.w);else throw"must set character, missile or effect";},pm:function(){this.V=k.H.Bg(this.Vc,this);this.k(this.V);this.V.Pe(cc.d(this.h.width/2,this.h.height/2));this.V.n("idle")},yi:function(a,b){this.V=k.Z(b.fa,b.Ja,b.start);this.V.l(cc.d(this.h.width/2,this.h.height/2));this.V.p(!0);this.k(this.V);var c=k.nd(a,b);this.V.Q(c)},qm:function(){this.yi(this.Y,y[this.Y])},rm:function(){this.yi(this.w,
x[this.w])},Ra:function(){this.go();return!0}});Z.create=function(){var a=new Z;if(a&&a.q())return a;throw"Couldn't create the main layer of the game. Something is wrong.";};Z.P=function(){var a=cc.Zb.create(),b=Z.create();a.k(b);k.Vo=b;return a};var Za=k.Ba.extend({q:function(a){this.$a=a.$a;this.Ei=a.Ei;this.uc=a.uc;this.Pd=a.Pd;this.nm=cc.d(-8*k.o,13*k.o);return this.oa()?(cc.A.m().pa(ja),this.eb(this.W),this.start(),this.wf(k.xh),this.Dd.p(!1),!0):!1},hd:function(){this.sf=!0;this.Dd.p(!0);var a=this.Dd.I(),a=cc.Ha(this.nm,a);this.Dd.l(a);this.Sn()},Sn:function(){this.Lg=this.Eb=0;this.$a?this.Eb+=this.$a.length:this.Pd&&this.Eb++;this.uc&&(this.Eb+=this.uc.length);this.Pd?this.Pd(function(a){this.Lg++;this.$a=this.$a?this.$a.concat(a):
a;this.Eb+=a.length;this.kj()}.bind(this)):this.kj();this.uc&&this.Tn();this.qg(this.qh)},kj:function(){this.$a?cc.wj.hr(this.$a,function(){this.oh=!0}.bind(this)):this.oh=!0},Tn:function(){for(var a=async.an(function(a,b){a.action(b)}.bind(this)),b=0;b<this.uc.length;b++)a.push({name:b,action:this.uc[b]},function(){this.Lg++}.bind(this));a.xc=function(){k.log(["loader"],"apiCalls done")}.bind(this)},bn:function(){this.Dh();this.uo(this.qh);A.ac(this.Ei)},Th:function(){return 100},qh:function(){if(this.sf){var a;
a=k.gc?cc.wj.m().Th:this.Th;var b=0,b=0;this.$a?(!0==this.oh?b=100:(b=a(),100<b&&(b=100)),b=b*this.$a.length/100):b=0;a=b+this.Lg;b=Math.floor(20*Math.floor(a/this.Eb*100)/100);1>b&&(b=1);20<b&&(b=20);b=cc.A.m().za("loader."+b+".png");this.Dd.Sb(b);a>=this.Eb&&(b=cc.A.m().za("loader.20.png"),this.Dd.Sb(b),this.hb(this.bn.bind(this)))}},W:{leftDoor:{type:"sprite",transitionIn:"leftToMid",transitionOut:"left",sprite:"leftDoor.png",z:0,pos:{x:509.5,y:768}},rightDoor:{type:"sprite",transitionIn:"rightToMid",
transitionOut:"right",sprite:"rightDoor.png",z:0,pos:{x:1533.500000000001,y:768}},spinner:{type:"sprite",sprite:"loader.1.png",z:1}}});function $(a,b){if(!b)throw"Attempting to load undefined value.";-1==a.indexOf(b)&&a.push(b)}
var Ya=cc.vj.extend({state:0,yr:"yoyoyoyoyosignthissonsignitsignitsignit",q:function(){return this.oa()?!0:!1},$h:function(){this.Me?this.Me():(k.log(["console"],"return point not defined, going to landing"),this.ac("landing"))},ac:function(a){this.re&&cc.ua.m().Vh().removeChild(this.re,!0);this.km=this.km?this.wk:a;switch(a){case "selectEditTeamPre":this.ug();break;case "selectTeam":cc.ua.m().wd(Qa.P());break;case "editTeam":cc.ua.m().wd(Pa.P());break;case "arena":cc.ua.m().wd(A.v);break;case "landing":cc.ua.m().wd(Xa.P());
break;case "animationTest":cc.ua.m().wd(Z.P());break;case "multiplayer":cc.ua.m().wd($a.P())}this.wk=a},Tb:function(a){this.re=new Za;cc.ua.m().Vh().k(this.re);this.re.q(a)},ug:function(){var a=this.dg(),a=a.concat(sa);this.Tb({assets:a,nextScene:"selectTeam"})},Rj:function(){A.Ae?this.Qj():this.Sj()},ye:function(){var a=[],a=a.concat(sa);this.Tb({assets:a,apiCalls:[function(a){A.fb.cd(function(){a()})}],nextScene:"multiplayer"})},Dm:function(){this.Me=this.ye.bind(this);var a=this.dg(),a=a.concat(sa);
this.Tb({assets:a,nextScene:"selectTeam"})},Cm:function(){this.Me=this.ye.bind(this);var a=this.dg(),a=a.concat(sa);this.Tb({assets:a,apiCalls:[function(a){A.fb.Mf(function(c){c?a():this.ye()}.bind(this))}.bind(this)],nextScene:"selectTeam"})},Qj:function(){Y.P();var a=A.e.X(),b=["poisonCloud","healing"];this.Tb({assetFunc:function(c){A.fb.X(A.Ae,function(d,g){if(d)A.ac("landing");else{var h={Fe:A.Ae,Cb:a,Xe:"4x4x4a",Db:g.Ig,Ye:g.Rp,ta:b,nb:[],gg:"a"},f=this.ue(h.Cb,h.Db,h.ta,h.nb);A.v.data=h;c(f)}}.bind(this))}.bind(this),
apiCalls:[function(a){A.e.lc(function(){a()})}],nextScene:"arena"})},Sj:function(){Y.P();this.Me=this.ug.bind(this);var a=A.e.X();this.Ek({Cb:a,Xe:"4x4x4a",Db:A.pe.vl(),Ye:"4x4x4b",ta:["poisonCloud","healing"],nb:["poisonCloud","healing"],gg:"a"})},Tj:function(a){Y.P();a={type:"replay",Cb:a.Db,Xe:"4x4x4a",Db:a.Cb,Ye:"4x4x4b",ta:[],nb:[],gg:"a"};var b=this.ue(a.Cb,a.Db,a.ta,a.nb);A.v.data=a;this.Tb({assets:b,nextScene:"arena"})},Ek:function(a){A.v.data=a;a=this.ue(a.Cb,a.Db,a.ta,a.nb);this.Tb({assets:a,
apiCalls:[function(a){A.e.lc(function(){a()})}],nextScene:"arena"})},ig:function(){k.log(["mainLayer"],"main starting");this.jj()},vp:function(){Y.P();var a={Cb:[{name:"dragonRed"}],Xe:"4x4x4a",Db:[{name:"orge"}],Ye:"4x4x4b",ta:[],nb:[],gg:"a"};A.v.data=a;a=this.ue(a.Cb,a.Db,a.ta,a.nb);this.Tb({assets:a,nextScene:"arena"})},jj:function(){var a=A.e.Gl();A.e.Hl()?(k.log(["mainLayer"],"hasToken"),this.Tl()):a?(k.log(["mainLayer"],"hasPlayed"),this.Yj()):(k.log(["mainLayer"],"newPlayer"),this.fh())},
fh:function(){k.log(["mainLayer"],"authorizeNewPlayer");A.e.Gf(function(){this.Fg()}.bind(this))},Yj:function(){A.e.Vf(function(){this.Fg()}.bind(this))},Tl:function(){A.e.getBlob(function(a){a?this.Fg():this.fh()}.bind(this))},Fg:function(){this.ac("landing")},dg:function(){var a=A.e.ml(),b=[];_.map(a,function(a){a=this.il(a);$(b,a.fk);$(b,a.ek)}.bind(this));for(a=0;a<b.length;a++)b[a]={src:b[a]};return b},il:function(a){a=u[a].mh;void 0==a&&(a=0);return{fk:H[a],ek:I[a]}},ue:function(a,b,c){for(var d=
[],g=0;g<a.length;g++)if(a[g]){var h=a[g].name;this.rf(d,h)}for(g=0;g<b.length;g++)b[g]&&(h=b[g].name,this.rf(d,h));for(g=0;g<c.length;g++)h=c[g],this.dh(d,h);for(g=0;g<c.length;g++)h=c[g],this.dh(d,h);$(d,P.greenbullet);$(d,O.greenbullet);$(d,P.greenBang);$(d,O.greenBang);for(g=0;g<d.length;g++)d[g]={src:d[g]};for(g=0;g<ra.length;g++)$(d,ra[g]);return d},dh:function(a,b){var c=D[b];if(c)for(var d=0;d<c.length;d++)$(a,P[c[d]]),$(a,O[c[d]])},Oc:function(a,b){for(var c=0;c<a.length;c++)$(b,P[a[c]]),
$(b,O[a[c]])},rf:function(a,b){$(a,P[b]);$(a,O[b]);u[b].Y&&($(a,P[u[b].Y]),$(a,O[u[b].Y]));if(u[b].ca&&u[b].ca.w){P[u[b].ca.w]&&$(a,P[u[b].ca.w]);$(a,O[u[b].ca.w]);var c=x[u[b].ca.w];c.Y&&($(a,P[c.Y]),$(a,O[c.Y]))}if(u[b].wb){var c=u[b].wb,d;for(d in c){var g=D[d];this.Oc(g,a)}}if(u[b].cc)for(d in c=u[b].cc,c)g=D[d],this.Oc(g,a);u[b].ca.Na&&(g=D.heal,this.Oc(g,a));if(u[b].Yd)for(d in c=u[b].Yd,c){g=D[d];this.Oc(g,a);for(var h in c[d])(g=D[h])&&this.Oc(g,a)}}}),A=A||{};
Ya.create=function(){var a=new Ya;if(a&&a.q())return a;throw"Couldn't create the main layer of the game. Something is wrong.";};Ya.P=function(){A.ea||(A.ea=cc.Zb.create(),A.ea.f=Ya.create(),A.ea.f.O(),A.ea.k(A.ea.f));A.ac=A.ea.f.ac.bind(A.ea.f);return A.ea};k.Ba.extend({Kg:3,q:function(a){this.name="powerHud";this.Em=[];return this.oa()?(cc.A.m().pa(N),this.eb(this.W),this.Ie=cc.d(413*k.o,287*k.o),this.mg=cc.d(-305*k.o,287*k.o),this.wb=a,!0):!1},zg:function(a){for(var b=0;b<this.Kg;b++)this["tile"+b]!=a&&this["tile"+b].Bn();a.zg()},rg:function(a,b){this.hb(a,b)},Ra:function(){return!1},Pa:function(){for(var a=this.Kg>this.wb.length?this.wb.length:this.Kg,b=0;b<a;b++){var c="tile"+b;this[c].Sl(this.wb[b],this);this.Em.push(this[c])}},W:{powerBar:{type:"sprite",
sprite:"powersBackground.png",kids:{tiles:{isGroup:!0,type:"line",members:[{type:"tile",name:"tile0",sprite:"powerFrame.png"},{type:"tile",name:"tile1",sprite:"powerFrame.png"},{type:"tile",name:"tile2",sprite:"powerFrame.png"}],sprite:"powerFrame.png",z:0,pos:{x:159,y:99}}},z:0,pos:{x:413,y:287}}}});var $a=k.Ba.extend({Zc:[],Uc:{},J:[],Ca:140,cells:20,Tc:void 0,ud:{},hk:"gridCells",q:function(){return this.oa()?(cc.A.m().pa(L),this.eb(this.W),this.aa=new k.Vg,this.items=[],!0):!1},Pa:function(){this.start();this.k(this.aa);var a=this.cd();!this.co&&0<a.length&&(this.co=!0,this.aa.q({Ga:!0,r:a,Ud:2*a[0].N().height,Hc:this.Hc.bind(this),height:this.h.height}),a=cc.d(this.ti.gb.x,this.ti.gb.y),a.x*=k.Hb.scale,a.y*=k.Hb.scale,this.aa.l(a),this.$(this.aa,3),this.aa.bi(),this.aa.kb(0))},Hc:function(){console.log("Touch")},
cd:function(){var a=[],b=A.Ci;if(!b)return a;var c=A.e.Qh();this.Vi={};for(var d in b){var g=b[d],h=this.yl(this.ti);h.Hq.lb(g[c.id].Do);h.Gq.lb(g[d].Do);this.Vi[d]=g.Fq;g[d].name?h.lm.lb(g[d].name):h.lm.lb("Anonymous");g.Mr==c.id?(h.Mi.p(!1),h.Jh.p(!0),h.Ui.p(!0)):(h.Mi.p(!0),h.Jh.p(!1),h.Ui.p(!1));h.Mi.setData(d);h.Jh.setData(d);h.kp.setData(d);h.Ui.setData(d);a.push(h)}return a},Ra:function(){},back:function(){A.ac("landing")},Jp:function(){},Up:function(){},Vn:function(){},Nr:function(){},gr:function(){},
Kp:function(a){A.Ae=a;A.ea.f.Dm()},or:function(a){A.ea.f.Tj(this.Vi[a])},vk:function(){var a=0,b;for(b in A.Ci)a++;return a},jj:function(){25>this.vk()&&A.ea.f.Cm()},ub:function(){},close:function(){},W:{mainFrame:{type:"sprite",transitionIn:"top",transitionOut:"top",applyAdjustments:!0,sprite:"genericBackground.png",z:1,kids:{backButton:{type:"button",main:"backButton.png",pressed:"backButtonPressed.png",touchDelegateName:"back",z:2,pos:{x:177,y:810}},facebookButton:{type:"button",main:"facebookButton.png",
pressed:"facebookButtonPressed.png",touchDelegateName:"fb",z:2,pos:{x:165,y:624}},gameCenterButton:{type:"button",main:"gameCenterButton.png",pressed:"gameCenterPressed.png",touchDelegateName:"gameCenter",z:2,pos:{x:163,y:443}},storeButton:{type:"button",main:"mpstoreButton.png",pressed:"mpstoreButtonPressed.png",touchDelegateName:"store",z:2,pos:{x:342,y:807}},twitterButton:{type:"button",main:"tweeterButton.png",pressed:"tweeterButtonPressed.png",touchDelegateName:"tweet",z:2,pos:{x:348,y:624}},
startButton:{type:"button",main:"startButton.png",pressed:"startButtonPressed.png",touchDelegateName:"startGame",z:2,pos:{x:255,y:993}},messageButton:{type:"button",main:"messageButton.png",pressed:"messageButtonPressed.png",touchDelegateName:"msg",z:2,pos:{x:348,y:447}}},pos:{x:1024,y:778}}},itemWindow:{type:"sprite",sprite:"itemWindow.png",z:4,pos:{x:1201,y:1149},kids:{pokeButton:{type:"button",main:"pokeButton.png",pressed:"pokeButtonPressed.png",touchDelegateName:"poke",z:3,pos:{x:1147,y:123}},
fightButton:{type:"button",main:"buttonFight.png",pressed:"buttonFightPressed.png",touchDelegateName:"fight",z:3,pos:{x:1147,y:183}},replayButton:{type:"button",main:"buttonFight.png",pressed:"buttonFightPressed.png",touchDelegateName:"replay",z:3,pos:{x:1147,y:53}},itemFrame:{type:"sprite",sprite:"imageFrame.png",z:3,pos:{x:135,y:123}},closeButton:{type:"button",main:"closeButton.png",pressed:"closeButtonPressed.png",touchDelegateName:"close",z:3,pos:{x:1387,y:111}},lblName:{type:"label",text:"NAME - NAME - NAME",
width:1E3,height:80,alignment:0,fontSize:50,fontName:"gow",z:3,pos:{x:775,y:159}},lblWins:{type:"label",text:"WINS",width:80,height:80,alignment:0,fontSize:40,fontName:"gow",z:3,pos:{x:456,y:12}},lblLosses:{type:"label",text:"HEALTH",width:80,height:80,alignment:0,fontSize:40,fontName:"gow",z:3,pos:{x:745,y:12}}}}});$a.P=function(){A.Oa&&(A.Oa.removeChild(A.Oa.f),A.Oa.f.xb(),A.Oa.f=null,A.Oa.xb(),A.Oa=null);A.Oa=cc.Zb.create();A.Oa.f=new $a;A.Oa.k(A.Oa.f);A.Oa.f.q();return A.Oa};
//@ sourceMappingURL=sourcemap